<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Prometheans | Community Art</title>
    <!-- Theme-aware favicon -->
    <link id="favicon" rel="icon" type="image/png" href="assets/light_favicon.png">
    <script>
        (function() {
            function updateFavicon() {
                const favicon = document.getElementById('favicon');
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    favicon.href = 'assets/dark_favicon.png';
                } else {
                    favicon.href = 'assets/light_favicon.png';
                }
            }
            // Set initial favicon
            updateFavicon();
            // Listen for theme changes
            if (window.matchMedia) {
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateFavicon);
            }
        })();
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Finger+Paint&display=swap" rel="stylesheet">
    <link rel="preload" href="assets/digital.ttf" as="font" type="font/ttf" crossorigin>
    <style>
        @font-face {
            font-family: 'Digital';
            src: url('assets/digital.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: block;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            overflow-x: hidden;
            width: 100%;
            max-width: 100%;
        }

        body {
            font-family: 'Finger Paint', sans-serif;
            background: #000000;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        html {
            overflow-x: hidden;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 50% 20%, rgba(255, 255, 255, 0.02) 0%, transparent 50%);
            animation: pulse 8s ease-in-out infinite;
            z-index: 0;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* Transparent Header with Logo */
        .header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 30px 40px;
            z-index: 1000;
            background: transparent;
            pointer-events: none;
        }

        .header-logo {
            max-width: 150px;
            height: auto;
            cursor: pointer;
            pointer-events: auto;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
        }

        .header-logo:hover {
            transform: scale(1.1);
            transition: transform 0.3s ease;
        }

        .header-logo:active {
            transform: scale(1);
            transition: none;
        }

        /* Hero Section */
        .hero-section {
            position: relative;
            width: 1920px;
            height: 1080px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible;
            background: #000000;
            left: 50%;
            transform: translateX(-50%);
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 1920px;
            height: 1080px;
            background-image: url('assets/character.png');
            background-size: 1920px 1080px;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 1;
            z-index: 1;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                180deg,
                rgba(0, 0, 0, 0.1) 0%,
                rgba(0, 0, 0, 0.2) 50%,
                rgba(0, 0, 0, 0.3) 100%
            );
            z-index: 2;
        }

        .hero-content {
            position: relative;
            z-index: 3;
            text-align: center;
            padding: 0 40px;
            max-width: 1200px;
        }

        .hero-title {
            font-size: 4.5rem;
            text-transform: uppercase;
            letter-spacing: 12px;
            font-weight: bold;
            margin-bottom: 30px;
            text-shadow: 
                0 0 20px rgba(255, 255, 255, 0.5),
                0 0 40px rgba(255, 255, 255, 0.3);
            animation: heroTitleAnimation 1.5s ease-out;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }

        @keyframes heroTitleAnimation {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .hero-title::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 4px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.9), transparent);
            animation: heroLineExpand 1.5s ease-out 0.5s both;
        }

        @keyframes heroLineExpand {
            from {
                width: 0;
                opacity: 0;
            }
            to {
                width: 200px;
                opacity: 1;
            }
        }

        .hero-subtitle {
            font-size: 1.5rem;
            letter-spacing: 8px;
            opacity: 0.9;
            margin-top: 50px;
            text-transform: uppercase;
            animation: heroSubtitleAnimation 1.5s ease-out 0.3s both;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        @keyframes heroSubtitleAnimation {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 0.9;
                transform: translateY(0);
            }
        }

        /* Floating particles effect */
        .hero-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: float 15s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) translateX(100px);
                opacity: 0;
            }
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 200;
            animation: bounce 2s infinite;
        }

        .scroll-indicator::before {
            content: 'â†“';
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.6);
            display: block;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            50% {
                transform: translateX(-50%) translateY(10px);
            }
        }


        /* Clothes Container */
        .clothes-container {
            position: absolute;
            z-index: 4;
            width: 943px;
            height: 500px;
            opacity: 0;
            transform-origin: center center;
            pointer-events: none;
        }

        .clothes-container.visible {
            opacity: 1;
        }

        .clothes-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }

        /* Earrings Container */
        .earrings-container {
            position: absolute;
            z-index: 4;
            width: 360px;
            height: 290px;
            opacity: 0;
            transform-origin: center center;
            pointer-events: none;
        }

        .earrings-container.visible {
            opacity: 1;
        }

        .earrings-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }

        /* Mask Container */
        .mask-container {
            position: absolute;
            z-index: 4;
            width: 317px;
            height: 264px;
            opacity: 0;
            transform-origin: center center;
            pointer-events: none;
        }

        .mask-container.visible {
            opacity: 1;
        }

        .mask-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }

        /* Holding Book Container */
        .holding-book-container {
            position: absolute;
            z-index: 5;
            width: 713px;
            height: 305px;
            opacity: 0;
            transform-origin: center center;
            pointer-events: none;
            overflow: visible;
        }

        .holding-book-container.visible {
            opacity: 1;
        }

        .holding-book-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }

        /* Aura Container */
        .aura-container {
            position: absolute;
            z-index: 100;
            width: 1920px;
            height: 467px;
            opacity: 0;
            transform-origin: center center;
            pointer-events: none;
            overflow: visible;
        }

        .aura-container.visible {
            opacity: 1;
        }

        .aura-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }

        /* Art Gallery Section - Second Part */
        .dressing-section {
            position: relative;
            width: 100%;
            min-height: 1080px;
            overflow: visible; /* Allow background to extend */
            background: #000000;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* On mobile, allow section to show full background */
        @media (max-width: 768px) {
            .dressing-section {
                overflow: visible;
                min-height: auto;
            }
        }

        .dressing-content {
            position: relative;
            z-index: 3;
            text-align: center;
            padding: 120px 40px 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        @media (min-width: 1024px) {
            .dressing-content {
                padding-top: 140px;
            }
        }
        
        @media (min-width: 1440px) {
            .dressing-content {
                padding-top: 160px;
            }
        }

        .dressing-title {
            font-size: clamp(2rem, 5vw, 4.5rem);
            text-transform: uppercase;
            letter-spacing: clamp(4px, 1.2vw, 12px);
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: none;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Title with Toggle Button */
        .title-with-toggle {
            position: relative;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto 50px;
        }
        
        .dressing-title {
            position: relative;
            display: inline-block;
            width: 100%;
            margin-bottom: 25px;
        }
        
        .view-toggle-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            padding: 0;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            flex-shrink: 0;
        }
        
        @media (max-width: 768px) {
            .view-toggle-btn {
                width: 40px;
                height: 40px;
            }
        }
        
        .view-toggle-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .view-toggle-icon {
            width: 24px;
            height: 24px;
            position: absolute;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .view-toggle-icon.book-icon {
            opacity: 1;
            transform: rotate(0deg) scale(1);
        }
        
        .view-toggle-icon.grid-icon {
            opacity: 0;
            transform: rotate(-90deg) scale(0.8);
        }
        
        .view-toggle-btn.gallery-active .book-icon {
            opacity: 0;
            transform: rotate(90deg) scale(0.8);
        }
        
        .view-toggle-btn.gallery-active .grid-icon {
            opacity: 1;
            transform: rotate(0deg) scale(1);
            display: block;
        }
        
        .view-toggle-btn:not(.gallery-active) .grid-icon {
            display: none;
        }
        
        /* Responsive toggle button */
        @media (max-width: 768px) {
            .title-with-toggle {
                margin-bottom: 40px;
                margin-top: 20px;
            }
            
            .dressing-title {
                margin-bottom: 20px;
            }
            
            .view-toggle-btn {
                width: 45px;
                height: 45px;
                margin-top: 12px;
            }
            
            .view-toggle-icon {
                width: 20px;
                height: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .title-with-toggle {
                margin-bottom: 35px;
                margin-top: 15px;
            }
            
            .dressing-title {
                margin-bottom: 15px;
            }
        }
        
        /* Gallery View */
        .gallery-wrapper {
            max-width: 1400px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        /* Center single result */
        .gallery-container:has(.gallery-card:only-child) {
            justify-items: center;
        }
        
        /* Empty state styling */
        .gallery-empty-state {
            grid-column: 1 / -1;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 400px;
            padding: 40px 20px;
        }
        
        .empty-state-content {
            text-align: center;
            max-width: 500px;
        }
        
        .empty-state-logo-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .empty-state-logo {
            position: absolute;
            width: 120px;
            height: 120px;
            object-fit: contain;
            opacity: 0.8;
            filter: brightness(0) invert(1) drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
        }
        
        .empty-state-logo.open-eye {
            animation: blinkEye 1.5s ease-in-out infinite;
        }
        
        .empty-state-logo.closed-eye {
            animation: blinkEyeClosed 1.5s ease-in-out infinite;
            opacity: 0;
        }
        
        @keyframes blinkEye {
            0%, 85%, 100% {
                opacity: 1;
            }
            90%, 95% {
                opacity: 0;
            }
        }
        
        @keyframes blinkEyeClosed {
            0%, 85%, 100% {
                opacity: 0;
            }
            90%, 95% {
                opacity: 1;
            }
        }
        
        .empty-state-title {
            font-size: clamp(1.5rem, 3vw, 2rem);
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 12px;
            font-weight: 600;
            font-family: 'Finger Paint', sans-serif;
        }
        
        .empty-state-message {
            font-size: clamp(1rem, 1.8vw, 1.2rem);
            color: rgba(255, 255, 255, 0.7);
            font-family: 'Finger Paint', sans-serif;
        }
        
        .gallery-card {
            background: #f5f5dc;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }
        
        .gallery-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }
        
        .gallery-card-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-bottom: 3px solid #333;
        }
        
        .gallery-card-content {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .gallery-card-title {
            font-size: clamp(18px, 2vw, 24px);
            font-weight: bold;
            color: #333;
            margin: 0;
        }
        
        .gallery-card-category {
            font-size: clamp(14px, 1.5vw, 18px);
            color: #666;
            font-style: italic;
            margin: 0;
        }
        
        .gallery-card-description {
            font-size: clamp(12px, 1.2vw, 16px);
            color: #555;
            line-height: 1.5;
            margin: 0;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .gallery-card-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: auto;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .gallery-card-artist {
            font-size: clamp(14px, 1.5vw, 18px);
            font-weight: 600;
            color: #333;
        }
        
        .gallery-card-x-link {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 50%;
            transition: background 0.2s ease;
            text-decoration: none;
            color: #333;
        }
        
        .gallery-card-x-link:hover {
            background: rgba(0, 0, 0, 0.1);
        }
        
        .gallery-card-x-link svg {
            width: 18px;
            height: 18px;
        }
        
        /* Gallery Pagination */
        .gallery-pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 30px;
            visibility: visible;
            opacity: 1;
        }
        
        .pagination-btn {
            padding: 10px 18px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 6px;
            color: #fff;
            font-family: 'Finger Paint', sans-serif;
            font-size: clamp(14px, 1.5vw, 16px);
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .pagination-btn:hover:not(:disabled) {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }
        
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .pagination-btn.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
            font-weight: bold;
        }
        
        .pagination-info {
            color: #fff;
            font-family: 'Finger Paint', sans-serif;
            font-size: clamp(14px, 1.5vw, 16px);
            margin: 0 10px;
        }
        
        /* Responsive Gallery */
        @media (max-width: 768px) {
            .gallery-container {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 20px;
            }
            
            .gallery-card-image {
                height: 250px;
            }
            
            .gallery-card-content {
                padding: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .gallery-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .gallery-card-image {
                height: 220px;
            }
            
            .pagination-btn {
                padding: 8px 14px;
                font-size: 14px;
            }
            
            .gallery-pagination {
                display: flex !important;
                visibility: visible !important;
                opacity: 1 !important;
            }
        }
        
        @media (max-width: 768px) {
            .gallery-pagination {
                display: flex !important;
                visibility: visible !important;
                opacity: 1 !important;
            }
        }

        .dressing-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%) rotate(-1deg);
            width: 60%;
            height: 3px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 2px;
            clip-path: polygon(0 0, 100% 0, 98% 100%, 2% 100%);
        }
        
        /* Search and Filter Controls */
        .filter-controls {
            max-width: 1200px;
            margin: 0 auto 30px;
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .search-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 45px 12px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            color: #fff;
            font-family: 'Finger Paint', sans-serif;
            font-size: clamp(14px, 1.5vw, 16px);
            outline: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .search-input:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            color: rgba(255, 255, 255, 0.6);
            pointer-events: none;
        }
        
        .category-filter-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }
        
        .category-filter-btn {
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            color: #fff;
            font-family: 'Finger Paint', sans-serif;
            font-size: clamp(12px, 1.3vw, 15px);
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            white-space: nowrap;
        }
        
        .category-filter-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }
        
        .category-filter-btn.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* Responsive filters */
        @media (max-width: 768px) {
            .filter-controls {
                padding: 0 15px;
                margin-bottom: 20px;
            }
            
            .search-input {
                padding: 10px 40px 10px 18px;
                font-size: 14px;
            }
            
            .search-icon {
                width: 18px;
                height: 18px;
                right: 12px;
            }
            
            .category-filter-container {
                gap: 8px;
            }
            
            .category-filter-btn {
                padding: 6px 16px;
                font-size: 12px;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Book Button */
        .book-button-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px 0;
            padding: 0 20px;
        }

        .book-button {
            background: transparent;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 20px 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .book-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .book-button:hover::before {
            left: 100%;
        }

        .book-button:hover {
            border-color: rgba(255, 255, 255, 0.6);
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
        }

        .book-button-image {
            width: 50px;
            height: 50px;
            object-fit: contain;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
        }

        .book-button-text {
            font-family: 'Finger Paint', sans-serif;
            font-size: 1.5rem;
            color: #ffffff;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Book Wrapper - Container for the entire book */
        .book-wrapper {
            width: 100%;
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        /* Book Container - The actual book shape */
        .book-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            aspect-ratio: 16 / 11;
            display: flex;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            overflow: visible; /* Changed to visible to show page flips */
            perspective: 2000px; /* 3D perspective for page flips */
            transform-style: preserve-3d;
        }
        
        /* Pages behind effect - creates depth */
        .book-container::before,
        .book-container::after {
            content: '';
            position: absolute;
            top: 0;
            width: 50%;
            height: 100%;
            background: #e8e0c0;
            border-radius: 8px;
            z-index: 1;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .book-container::before {
            left: 0;
            border-radius: 8px 0 0 8px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.1), -5px 0 20px rgba(0, 0, 0, 0.2);
        }
        
        .book-container::after {
            right: 0;
            border-radius: 0 8px 8px 0;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.1), 5px 0 20px rgba(0, 0, 0, 0.2);
        }

        /* Additional page layers for depth */
        .book-page-layer {
            position: absolute;
            top: 2px;
            width: 50%;
            height: calc(100% - 4px);
            background: #e0d8b8;
            border-radius: 8px;
            z-index: 2;
            pointer-events: none;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .book-page-layer.left-layer {
            left: 2px;
            border-radius: 8px 0 0 8px;
        }
        
        .book-page-layer.right-layer {
            right: 2px;
            border-radius: 0 8px 8px 0;
        }
        
        /* Book Spine - Center binding */
        .book-spine {
            position: absolute;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
            width: 8px;
            height: 100%;
            background: linear-gradient(to right, #8b7355, #6b5d4f, #8b7355);
            z-index: 10;
            box-shadow: inset -2px 0 10px rgba(0, 0, 0, 0.3);
        }

        /* Book Pages */
        .book-page {
            flex: 1;
            background: #f5f5dc;
            position: absolute;
            top: 0;
            height: 100%;
            width: 50%;
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.6s ease;
            z-index: 5;
            cursor: pointer;
            will-change: transform;
        }
        
        /* Preview pages - shown behind during flip */
        .book-page.preview-page {
            position: absolute;
            top: 0;
            width: 50%;
            height: 100%;
            z-index: 3;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            background: #f5f5dc;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.1);
            display: none;
        }
        
        .book-page.preview-page.preview-left {
            left: 0;
            border-radius: 8px 0 0 8px;
            border-right: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .book-page.preview-page.preview-right {
            right: 0;
            border-radius: 0 8px 8px 0;
            border-left: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .book-page.preview-page.show-preview {
            display: block;
            opacity: 1;
            z-index: 4;
            transition: none; /* No fade effect, stay visible during animation */
        }
        
        /* When right page flips, show preview behind it */
        .book-page.right-page:not(.last-page):hover,
        .book-page.right-page.flipping-forward {
            z-index: 6;
        }
        
        /* When left page flips, show preview behind it */
        .book-page.left-page:not(.first-page):hover,
        .book-page.left-page.flipping-backward {
            z-index: 6;
        }

        .book-page.left-page {
            left: 0;
            border-radius: 8px 0 0 8px;
            border-right: 1px solid rgba(0, 0, 0, 0.1);
            transform-origin: right center;
        }

        .book-page.right-page {
            right: 0;
            border-radius: 0 8px 8px 0;
            border-left: 1px solid rgba(0, 0, 0, 0.1);
            transform-origin: left center;
        }
        
        /* Hover effect on right page - flip forward (only if not on last page) */
        /* Only apply hover on devices that support hover (not touch devices) */
        @media (hover: hover) {
            .book-page.right-page:not(.last-page):hover {
                transform: rotateY(-25deg) scaleX(0.92);
                transform-origin: left center;
                box-shadow: 
                    15px 0 8px rgba(0, 0, 0, 0.25),
                    8px 0 4px rgba(0, 0, 0, 0.2),
                    inset -3px 0 8px rgba(0, 0, 0, 0.08);
                z-index: 15;
            }
            
            /* Hover effect on left page - flip backward (only if not on first page) */
            .book-page.left-page:not(.first-page):hover {
                transform: rotateY(25deg) scaleX(0.92);
                transform-origin: right center;
                box-shadow: 
                    -15px 0 8px rgba(0, 0, 0, 0.25),
                    -8px 0 4px rgba(0, 0, 0, 0.2),
                    inset 3px 0 8px rgba(0, 0, 0, 0.08);
                z-index: 15;
            }
        }
        
        /* Show pages behind when hovering - only on devices that support hover */
        @media (hover: hover) {
            .book-container:hover::before {
                transform: translateX(-3px);
                box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.1), -8px 0 25px rgba(0, 0, 0, 0.25);
            }
            
            .book-container:hover::after {
                transform: translateX(3px);
                box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.1), 8px 0 25px rgba(0, 0, 0, 0.25);
        }

            .book-container:hover .book-page-layer.left-layer {
                transform: translateX(-2px);
            }
            
            .book-container:hover .book-page-layer.right-layer {
                transform: translateX(2px);
            }
        }
        
        /* Page flip animation keyframes - maintains center position by rotating around binding edge */
        @keyframes pageFlipForward {
            0% {
                transform: rotateY(0deg);
            }
            50% {
                transform: rotateY(-90deg);
            }
            100% {
                transform: rotateY(0deg);
            }
        }
        
        @keyframes pageFlipBackward {
            0% {
                transform: rotateY(0deg);
            }
            50% {
                transform: rotateY(90deg);
            }
            100% {
                transform: rotateY(0deg);
            }
        }
        
        .book-page.flipping-forward {
            animation: pageFlipForward 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: left center;
            box-shadow: 
                12px 0 6px rgba(0, 0, 0, 0.2),
                6px 0 3px rgba(0, 0, 0, 0.15);
        }
        
        .book-page.flipping-backward {
            animation: pageFlipBackward 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: right center;
            box-shadow: 
                -12px 0 6px rgba(0, 0, 0, 0.2),
                -6px 0 3px rgba(0, 0, 0, 0.15);
        }
        
        /* Page Content */
        .page-content {
            width: 100%;
            height: 100%;
            padding: clamp(20px, 4vw, 50px);
            overflow-y: auto;
            overflow-x: hidden;
            box-sizing: border-box;
            -webkit-overflow-scrolling: touch;
            pointer-events: auto; /* Allow content interaction */
        }
        
        /* Prevent content from blocking hover on page edges */
        .book-page.right-page .page-content {
            pointer-events: none;
        }
        
        .book-page.right-page .page-content * {
            pointer-events: auto; /* Re-enable for interactive elements */
        }
        
        .book-page.left-page .page-content {
            pointer-events: none;
        }

        .book-page.left-page .page-content * {
            pointer-events: auto; /* Re-enable for interactive elements */
        }
        
        /* Book Controls */
        .book-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 8px;
        }
        
        .page-indicator {
            font-size: clamp(14px, 2vw, 18px);
            font-weight: 600;
            color: #333;
            text-align: center;
            font-family: 'Finger Paint', sans-serif;
        }
        
        /* Page number on each page */
        .page-number {
            position: absolute;
            bottom: 15px;
            right: 20px;
            font-size: clamp(12px, 1.5vw, 16px);
            color: #999;
            font-family: 'Finger Paint', sans-serif;
            z-index: 20;
            pointer-events: none;
        }

        .book-page.left-page .page-number {
            display: none; /* Hide page numbers on left page, only show on right */
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .book-wrapper {
                margin: 20px auto;
                padding: 10px;
        }

            .book-container {
                max-width: 100%;
                aspect-ratio: 3 / 2; /* Wider book shape on mobile */
                max-height: 60vh; /* Limit height to prevent it from being too tall */
            }
            
            .page-number {
                bottom: 10px;
                right: 15px;
                font-size: clamp(10px, 1.2vw, 14px);
            }
            
            .book-page.left-page .page-number {
                display: none; /* Hide page numbers on left page, only show on right */
            }
        }
        
        @media (max-width: 480px) {
            .book-wrapper {
                margin: 10px auto;
                padding: 5px;
            }
            
            .book-container {
                aspect-ratio: 4 / 3; /* Even wider on small mobile */
                max-height: 55vh; /* Further reduce height on small screens */
            }
            
            .page-content {
                padding: clamp(15px, 3vw, 30px);
        }
        }


        /* Content styling for book pages */
        .book-artist-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 100%;
            overflow-y: auto;
            padding-right: 10px;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 0, 0, 0.3) rgba(0, 0, 0, 0.1);
        }
        
        @media (max-width: 768px) {
            .book-artist-info {
                gap: 6px !important;
            }
        }
        
        @media (max-width: 480px) {
            .book-artist-info {
                gap: 4px !important;
            }
        }

        .book-artist-name {
            font-family: 'Finger Paint', sans-serif;
            font-size: clamp(1rem, 3vw, 2rem);
            color: #1a1a1a;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 10px;
        }
        
        .book-artist-name-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .book-artist-handle {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            color: #666;
            margin-bottom: 15px;
        }

        .book-artist-x-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: #1a1a1a;
            text-decoration: none;
            width: 32px;
            height: 32px;
            border: 2px solid #1a1a1a;
            border-radius: 50%;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .book-artist-x-link:hover {
            background: #1a1a1a;
            color: #f5f5dc;
            transform: scale(1.1);
        }

        .book-artist-x-link svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }
        
        @media (max-width: 768px) {
            .book-artist-name {
                font-size: clamp(0.7rem, 2vw, 1.2rem) !important;
            }
            
            .book-artist-handle {
                font-size: clamp(0.75rem, 2vw, 1rem) !important;
                margin-bottom: 2px !important;
            }
            
            .book-art-category {
                font-size: clamp(0.65rem, 1.5vw, 0.85rem) !important;
                letter-spacing: 1px !important;
                margin-bottom: 1px !important;
                margin-top: 0 !important;
        }

        .book-art-description {
                font-size: clamp(0.6rem, 1.5vw, 0.85rem) !important;
                line-height: 1.5 !important;
                margin-top: 2px !important;
            }
            
            .book-artist-name-row {
                gap: 8px !important;
                margin-bottom: 4px !important;
            }
            
            .book-artist-x-link {
                width: 28px !important;
                height: 28px !important;
            }
            
            .book-artist-x-link svg {
                width: 16px !important;
                height: 16px !important;
            }
        }
        
        @media (max-width: 480px) {
            .book-artist-name {
                font-size: clamp(0.6rem, 1.8vw, 1rem) !important;
            }
            
            .book-artist-handle {
                font-size: clamp(0.65rem, 1.8vw, 0.9rem) !important;
                margin-bottom: 2px !important;
            }
            
            .book-art-category {
                font-size: clamp(0.55rem, 1.3vw, 0.75rem) !important;
                letter-spacing: 0.5px !important;
                margin-bottom: 0px !important;
                margin-top: 0 !important;
            }
            
            .book-art-description {
                font-size: clamp(0.5rem, 1.3vw, 0.7rem) !important;
                line-height: 1.4 !important;
                margin-top: 2px !important;
            }
            
            .book-artist-name-row {
                gap: 6px !important;
                margin-bottom: 3px !important;
            }
            
            .book-artist-x-link {
                width: 24px !important;
                height: 24px !important;
            }
            
            .book-artist-x-link svg {
                width: 14px !important;
                height: 14px !important;
            }
        }

        .book-art-description {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            line-height: 1.8;
            color: #333;
            margin-top: 15px;
            max-height: 50vh;
            overflow-y: auto;
            padding-right: 15px;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 0, 0, 0.3) rgba(0, 0, 0, 0.1);
        }

        .book-art-category {
            font-size: clamp(0.8rem, 1.8vw, 1rem);
            color: #666;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 6px;
            margin-top: 0;
        }

        .book-art-image {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 8px;
            border: 3px solid #333;
            box-sizing: content-box;
            display: block;
            margin: 0 auto;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .book-art-image:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .book-artist-info {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-height: 100%;
            overflow-y: auto;
            padding-right: 10px;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 0, 0, 0.3) rgba(0, 0, 0, 0.1);
        }

        .book-art-image {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 5px;
            border: 3px solid #333;
            box-sizing: content-box;
            display: block;
            margin: 0 auto;
        }

        .book-page-number {
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 1rem;
            color: #999;
        }

        .book-page.left-page .book-page-number {
            left: 20px;
            right: auto;
        }

        /* Art Detail Modal */
        .art-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .art-modal.active {
            display: flex;
            opacity: 1;
        }
        
        .art-modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
        }
        
        .art-modal-content {
            position: relative;
            width: 90%;
            max-width: 1400px;
            height: 90%;
            max-height: 900px;
            margin: auto;
            background: #f5f5dc;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 10001;
            animation: modalFadeIn 0.3s ease;
        }
        
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .art-modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(0, 0, 0, 0.6);
            color: #fff;
            font-size: 28px;
            line-height: 1;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10002;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease, transform 0.2s ease;
        }
        
        .art-modal-close:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: rotate(90deg);
        }
        
        .art-modal-body {
            display: flex;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        .art-modal-left {
            flex: 1;
            padding: clamp(20px, 4vw, 50px);
            overflow-y: auto;
            overflow-x: hidden;
            border-right: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding-right: 20px; /* Space for custom scrollbar */
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.4) rgba(0, 0, 0, 0.15);
        }
        
        .art-modal-right {
            flex: 1;
            padding: clamp(20px, 4vw, 50px);
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.02);
            overflow: hidden;
        }
        
        .art-modal-artist-info {
            width: 100%;
            max-width: 600px;
        }
        
        .art-modal-image-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .art-modal-image-container img,
        .art-modal-full-image {
            max-width: 100%;
            max-height: 80vh; /* Limit height to 80% of viewport height for portrait images */
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 8px;
            border: 3px solid #333;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }
        
        /* Additional constraint for portrait images (height > width) */
        .art-modal-image-container img[style*="height"],
        .art-modal-full-image[style*="height"] {
            max-height: 75vh !important;
        }
        
        /* Ensure image container doesn't overflow */
        .art-modal-image-container {
            overflow: auto;
            max-height: 100%;
        }
        
        /* Responsive Modal */
        @media (max-width: 968px) {
            .art-modal-content {
                width: 95%;
                height: 95%;
            }
            
            .art-modal-body {
                flex-direction: column;
            }
            
            .art-modal-left {
                flex: 0 0 auto;
                max-height: 40%;
                border-right: none;
                border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            }
            
            .art-modal-right {
                flex: 1;
                min-height: 0;
            }
        }
        
        @media (max-width: 768px) {
            .art-modal-content {
                width: 100%;
                height: 100%;
                border-radius: 0;
            }
            
            .art-modal-left {
                padding: 20px;
                max-height: 35%;
            }
            
            .art-modal-right {
                padding: 15px;
            }
            
            .art-modal-close {
                top: 10px;
                right: 10px;
                width: 35px;
                height: 35px;
                font-size: 24px;
            }
        }

        /* Art Gallery Wrapper */
        .art-gallery-wrapper {
            margin-bottom: 40px;
            position: relative;
        }

        .gallery-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 40px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .art-carousel-filters {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            flex: 1;
        }

        .view-toggle-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.7);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .view-toggle-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .view-icon {
            width: 24px;
            height: 24px;
            fill: currentColor;
            position: absolute;
            transition: all 0.3s ease;
        }

        .view-icon.carousel-icon {
            opacity: 1;
            transform: rotate(0deg);
        }

        .view-icon.grid-icon {
            opacity: 0;
            transform: rotate(90deg);
        }

        .view-toggle-btn.grid-active .carousel-icon {
            opacity: 0;
            transform: rotate(-90deg);
        }

        .view-toggle-btn.grid-active .grid-icon {
            opacity: 1;
            transform: rotate(0deg);
        }

        .view-container {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            pointer-events: none;
            max-height: 0;
            overflow: hidden;
        }

        .view-container.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
            max-height: 5000px;
        }

        .carousel-filter-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.7);
            padding: 10px 24px;
            border-radius: 25px;
            font-family: 'Finger Paint', sans-serif;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 1px;
        }

        .carousel-filter-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            color: rgba(255, 255, 255, 0.9);
            transform: translateY(-2px);
        }

        .carousel-filter-btn.active {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            color: rgba(255, 255, 255, 1);
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2);
        }

        .art-carousel-container {
            position: relative;
            width: 100%;
            overflow: hidden;
            padding: 40px 0;
        }

        .art-carousel {
            display: flex;
            gap: 20px;
            animation: scrollCarousel 30s linear infinite;
            will-change: transform;
            transition: opacity 0.3s ease;
        }

        .art-carousel:hover {
            animation-play-state: paused;
        }

        .art-carousel.updating {
            opacity: 0.5;
        }

        @keyframes scrollCarousel {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        .art-carousel-item {
            flex: 0 0 280px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .art-carousel-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .art-carousel-image {
            width: 100%;
            height: 200px;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.3);
        }

        .art-carousel-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .art-carousel-item:hover .art-carousel-image img {
            transform: scale(1.1);
        }

        .art-carousel-info {
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .art-carousel-artist {
            font-size: 1rem;
            font-weight: bold;
            color: rgba(255, 255, 255, 0.95);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .art-carousel-verified {
            width: 16px;
            height: 16px;
            fill: #1DA1F2;
        }

        .art-carousel-x-link {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: color 0.3s ease;
        }

        .art-carousel-x-link:hover {
            color: rgba(255, 255, 255, 1);
        }

        .art-carousel-x-link svg {
            width: 14px;
            height: 14px;
            fill: currentColor;
        }

        /* Art Gallery Grid */
        .art-gallery-grid {
            position: relative;
            z-index: 5;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px 100px;
            min-height: 600px;
        }

        .grid-view-item {
            position: relative;
            cursor: pointer;
            border-radius: 15px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            animation: fadeInScale 0.6s ease both;
        }

        .grid-view-item-image {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative;
        }

        .grid-view-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
            display: block;
        }

        .grid-view-item:hover .grid-view-item-image img {
            transform: scale(1.1);
        }

        .grid-view-item-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.9) 100%);
            transform: translateY(100%);
            transition: transform 0.4s ease;
        }

        .grid-view-item:hover .grid-view-item-info {
            transform: translateY(0);
        }

        .grid-view-artist {
            font-size: 1rem;
            font-weight: bold;
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 5px;
        }

        .grid-view-x-link {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: color 0.3s ease;
        }

        .grid-view-x-link:hover {
            color: rgba(255, 255, 255, 1);
        }

        .grid-view-x-link svg {
            width: 14px;
            height: 14px;
            fill: currentColor;
        }

        .gallery-item {
            position: relative;
            cursor: pointer;
            border-radius: 15px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            animation: fadeInScale 0.6s ease both;
            min-height: 300px;
            height: 300px;
        }

        .gallery-item:nth-child(1) { animation-delay: 0.1s; }
        .gallery-item:nth-child(2) { animation-delay: 0.2s; }
        .gallery-item:nth-child(3) { animation-delay: 0.3s; }
        .gallery-item:nth-child(4) { animation-delay: 0.4s; }
        .gallery-item:nth-child(5) { animation-delay: 0.5s; }
        .gallery-item:nth-child(6) { animation-delay: 0.6s; }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .gallery-item:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .gallery-item-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .gallery-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            transition: transform 0.6s ease;
            display: block;
        }

        .gallery-item:hover .gallery-item-image img {
            transform: scale(1.05);
        }

        .gallery-item-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.9) 100%);
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .gallery-item:hover .gallery-item-info {
            opacity: 1;
            transform: translateY(0);
        }

        .gallery-item-artist {
            font-size: 1.1rem;
            font-weight: bold;
            letter-spacing: 1.5px;
            margin-bottom: 10px;
            color: rgba(255, 255, 255, 0.95);
        }

        .gallery-item-x-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }

        .gallery-item-x-link:hover {
            color: rgba(255, 255, 255, 1);
            transform: scale(1.05);
        }

        .gallery-item-x-link svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }


        /* Detail Modal */
        .detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }

        .detail-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .detail-content {
            position: relative;
            max-width: 1400px;
            width: 90%;
            max-height: 90vh;
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 40px;
            padding: 40px;
            animation: slideUp 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .detail-image-container {
            position: relative;
            border-radius: 20px;
            overflow: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
            background: rgba(30, 30, 30, 0.8);
            max-height: 75vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .detail-image {
            width: auto;
            max-width: 100%;
            height: auto;
            max-height: 75vh;
            display: block;
            object-fit: contain;
        }

        .detail-info {
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        .detail-number {
            font-size: 1rem;
            opacity: 0.6;
            letter-spacing: 3px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .detail-number-share {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .detail-title {
            font-size: 3.5rem;
            text-transform: uppercase;
            letter-spacing: 4px;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            line-height: 1.2;
        }

        .detail-description {
            font-size: clamp(0.9rem, 1.2rem + 0.5vh, 1.4rem); /* Responsive font size based on viewport height */
            line-height: 1.8;
            opacity: 0.9;
            margin-bottom: 30px;
            color: rgba(255, 255, 255, 0.9);
            max-height: 50vh; /* Limit description height on tall screens */
            overflow-y: auto; /* Allow scrolling if description is too long */
            padding-right: 15px; /* Space for custom scrollbar */
            scrollbar-width: thin; /* Firefox */
            scrollbar-color: rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1); /* Firefox */
        }
        
        /* Custom scrollbar design - unique and modern with glassmorphism effect */
        /* Light scrollbar for detail modal and art modal */
        .detail-description::-webkit-scrollbar,
        .art-modal-left::-webkit-scrollbar,
        .art-modal-artist-info::-webkit-scrollbar {
            width: 10px;
        }
        
        .detail-description::-webkit-scrollbar-track,
        .art-modal-left::-webkit-scrollbar-track,
        .art-modal-artist-info::-webkit-scrollbar-track {
            background: linear-gradient(180deg, 
                rgba(0, 0, 0, 0.1) 0%, 
                rgba(0, 0, 0, 0.2) 50%, 
                rgba(0, 0, 0, 0.1) 100%);
            border-radius: 12px;
            margin: 8px 0;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .detail-description::-webkit-scrollbar-thumb,
        .art-modal-left::-webkit-scrollbar-thumb,
        .art-modal-artist-info::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, 
                rgba(255, 255, 255, 0.2) 0%, 
                rgba(255, 255, 255, 0.4) 30%,
                rgba(255, 255, 255, 0.5) 50%,
                rgba(255, 255, 255, 0.4) 70%,
                rgba(255, 255, 255, 0.2) 100%);
            border-radius: 12px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                inset 0 0 8px rgba(255, 255, 255, 0.2),
                0 0 12px rgba(255, 255, 255, 0.15),
                0 2px 4px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        .detail-description::-webkit-scrollbar-thumb::before,
        .art-modal-left::-webkit-scrollbar-thumb::before,
        .art-modal-artist-info::-webkit-scrollbar-thumb::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 4px;
            height: 60%;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 2px;
        }
        
        .detail-description::-webkit-scrollbar-thumb:hover,
        .art-modal-left::-webkit-scrollbar-thumb:hover,
        .art-modal-artist-info::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, 
                rgba(255, 255, 255, 0.3) 0%, 
                rgba(255, 255, 255, 0.5) 30%,
                rgba(255, 255, 255, 0.6) 50%,
                rgba(255, 255, 255, 0.5) 70%,
                rgba(255, 255, 255, 0.3) 100%);
            box-shadow: 
                inset 0 0 10px rgba(255, 255, 255, 0.3),
                0 0 18px rgba(255, 255, 255, 0.25),
                0 3px 6px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.2);
        }
        
        .detail-description::-webkit-scrollbar-thumb:active,
        .art-modal-left::-webkit-scrollbar-thumb:active,
        .art-modal-artist-info::-webkit-scrollbar-thumb:active {
            background: linear-gradient(180deg, 
                rgba(255, 255, 255, 0.4) 0%, 
                rgba(255, 255, 255, 0.6) 30%,
                rgba(255, 255, 255, 0.7) 50%,
                rgba(255, 255, 255, 0.6) 70%,
                rgba(255, 255, 255, 0.4) 100%);
            box-shadow: 
                inset 0 0 12px rgba(255, 255, 255, 0.4),
                0 0 24px rgba(255, 255, 255, 0.35),
                0 4px 8px rgba(0, 0, 0, 0.4);
        }
        
        /* Firefox scrollbar styling - applied to all scrollable elements */
        .detail-description,
        .art-modal-left,
        .art-modal-artist-info {
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.4) rgba(0, 0, 0, 0.15);
        }
        
        /* Dark scrollbar for book pages */
        .book-art-description,
        .book-artist-info {
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.1);
        }
        
        /* Dark scrollbar design specifically for book pages */
        .book-art-description::-webkit-scrollbar,
        .book-artist-info::-webkit-scrollbar {
            width: 10px;
        }
        
        .book-art-description::-webkit-scrollbar-track,
        .book-artist-info::-webkit-scrollbar-track {
            background: linear-gradient(180deg, 
                rgba(0, 0, 0, 0.2) 0%, 
                rgba(0, 0, 0, 0.3) 50%, 
                rgba(0, 0, 0, 0.2) 100%);
            border-radius: 12px;
            margin: 8px 0;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .book-art-description::-webkit-scrollbar-thumb,
        .book-artist-info::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, 
                rgba(0, 0, 0, 0.4) 0%, 
                rgba(0, 0, 0, 0.6) 30%,
                rgba(0, 0, 0, 0.7) 50%,
                rgba(0, 0, 0, 0.6) 70%,
                rgba(0, 0, 0, 0.4) 100%);
            border-radius: 12px;
            border: 2px solid rgba(0, 0, 0, 0.2);
            box-shadow: 
                inset 0 0 8px rgba(0, 0, 0, 0.3),
                0 0 12px rgba(0, 0, 0, 0.2),
                0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        .book-art-description::-webkit-scrollbar-thumb::before,
        .book-artist-info::-webkit-scrollbar-thumb::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 4px;
            height: 60%;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 2px;
        }
        
        .book-art-description::-webkit-scrollbar-thumb:hover,
        .book-artist-info::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, 
                rgba(0, 0, 0, 0.5) 0%, 
                rgba(0, 0, 0, 0.7) 30%,
                rgba(0, 0, 0, 0.8) 50%,
                rgba(0, 0, 0, 0.7) 70%,
                rgba(0, 0, 0, 0.5) 100%);
            box-shadow: 
                inset 0 0 10px rgba(0, 0, 0, 0.4),
                0 0 18px rgba(0, 0, 0, 0.3),
                0 3px 6px rgba(0, 0, 0, 0.4);
            border-color: rgba(0, 0, 0, 0.3);
        }
        
        .book-art-description::-webkit-scrollbar-thumb:active,
        .book-artist-info::-webkit-scrollbar-thumb:active {
            background: linear-gradient(180deg, 
                rgba(0, 0, 0, 0.6) 0%, 
                rgba(0, 0, 0, 0.8) 30%,
                rgba(0, 0, 0, 0.9) 50%,
                rgba(0, 0, 0, 0.8) 70%,
                rgba(0, 0, 0, 0.6) 100%);
            box-shadow: 
                inset 0 0 12px rgba(0, 0, 0, 0.5),
                0 0 24px rgba(0, 0, 0, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.5);
        }
        
        /* Ensure scrollbars are visible on desktop/big screens */
        @media (min-width: 769px) {
            .detail-description,
            .art-modal-left,
            .art-modal-artist-info,
            .book-art-description,
            .book-artist-info {
                scrollbar-width: thin !important;
            }
            
            .detail-description::-webkit-scrollbar,
            .art-modal-left::-webkit-scrollbar,
            .art-modal-artist-info::-webkit-scrollbar,
            .book-art-description::-webkit-scrollbar,
            .book-artist-info::-webkit-scrollbar {
                width: 10px !important;
                display: block !important;
            }
        }
        
        /* Long press indicator */
        .long-press-indicator {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 3px solid rgba(255, 255, 255, 0.3);
            display: none;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            z-index: 1000;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }
        
        .long-press-indicator.active {
            display: flex;
            animation: pulseIndicator 0.6s ease-in-out infinite;
        }
        
        .long-press-indicator::before {
            content: 'â†‘â†“';
            color: rgba(255, 255, 255, 0.8);
            font-size: 20px;
            font-weight: bold;
        }
        
        @keyframes pulseIndicator {
            0%, 100% {
                transform: scale(1);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.1);
                opacity: 1;
            }
        }
        
        /* Adjust font size for very tall screens */
        @media (min-height: 1200px) {
            .detail-description {
                font-size: clamp(0.85rem, 1rem + 0.3vh, 1.2rem);
                max-height: 45vh;
            }
        }
        
        @media (min-height: 1600px) {
            .detail-description {
                font-size: clamp(0.8rem, 0.95rem + 0.2vh, 1.1rem);
                max-height: 40vh;
            }
        }

        .detail-artist {
            font-size: 1.1rem;
            opacity: 0.8;
            letter-spacing: 2px;
            margin-bottom: 15px;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .detail-x-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .detail-x-link:hover {
            color: rgba(255, 255, 255, 1);
            transform: scale(1.05);
        }

        .x-logo {
            width: 20px;
            height: 20px;
            fill: currentColor;
            display: inline-block;
        }

        .detail-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }

        .detail-tag {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        .detail-actions {
            display: flex;
            gap: 15px;
        }

        .detail-btn {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.9);
            padding: 12px 24px;
            border-radius: 25px;
            text-decoration: none;
            font-family: 'Finger Paint', sans-serif;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
        }

        .detail-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .detail-btn.primary {
            background: rgba(255, 255, 255, 0.15);
        }

        .detail-btn.primary:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        /* Navigation in Modal */
        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.9);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
            transition: all 0.3s ease;
            z-index: 10001;
            user-select: none;
            border: none;
        }

        .modal-nav:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-50%) scale(1.1);
        }

        .modal-nav.prev {
            left: 20px;
        }

        .modal-nav.next {
            right: 20px;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 80px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.9);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
            transition: all 0.3s ease;
            z-index: 10001;
            border: none;
        }

        .modal-share {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.9);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            padding: 0;
        }

        .modal-share:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.1);
        }

        .modal-share svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: rotate(90deg) scale(1.1);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero-section {
                width: 1920px;
                height: 1080px;
            }

            .hero-background {
                width: 1920px;
                height: 1080px;
                background-size: 1920px 1080px;
                background-position: center;
            }

            .traits-top-title {
                font-size: 2.5rem;
                letter-spacing: 6px;
            }


            .dressing-title {
                font-size: clamp(2rem, 4vw, 3rem);
                letter-spacing: clamp(4px, 1vw, 8px);
            }

            .clothes-container {
                width: 49.1vw;
                height: 26vw;
                max-width: 943px;
                max-height: 500px;
            }

            .earrings-container {
                width: 18.75vw;
                height: 15.1vw;
                max-width: 360px;
                max-height: 290px;
            }

            .mask-container {
                width: 16.5vw;
                height: 13.7vw;
                max-width: 317px;
                max-height: 264px;
            }

            .art-gallery-grid {
                grid-template-columns: 1fr;
                gap: 30px;
                padding: 0 20px 80px;
            }

            .gallery-item {
                flex-direction: column;
                min-height: auto;
            }

            .gallery-item-image {
                width: 100%;
                height: 300px;
            }

            .detail-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .detail-image-container {
                max-height: 50vh;
            }

        }

        @media (max-width: 768px) {
            .header {
                padding: 15px 15px;
            }

            .header-logo {
                max-width: 100px;
            }
            
            .dressing-content {
                padding-top: 100px;
                padding-left: 20px;
                padding-right: 20px;
            }
            
            .dressing-title {
                font-size: clamp(1.5rem, 6vw, 2.5rem);
                margin-bottom: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .header {
                padding: 15px 15px;
            }

            .header-logo {
                max-width: 80px;
            }
            
            .dressing-content {
                padding-top: 90px;
                padding-left: 15px;
                padding-right: 15px;
            }
            
            .dressing-title {
                font-size: clamp(1.2rem, 7vw, 2rem);
                letter-spacing: clamp(2px, 0.8vw, 6px);
                margin-bottom: 12px;
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
                letter-spacing: 8px;
            }

            .hero-subtitle {
                font-size: 1rem;
                letter-spacing: 4px;
            }

            .traits-top-title {
                font-size: 2rem;
                letter-spacing: 4px;
            }

            .traits-center-title h1 {
                font-size: 2.5rem;
                letter-spacing: 6px;
            }

            .traits-center-title p {
                font-size: 1rem;
            }

            .traits-area {
                padding: 30px 20px;
            }

            .traits-area h3 {
                font-size: 1.5rem;
            }

            .hero-section {
                width: 1920px;
                height: 1080px;
            }

            .hero-background {
                width: 1920px;
                height: 1080px;
                background-size: 1920px 1080px;
                background-position: center;
            }

            .clothes-container {
                width: 700px;
                height: 370px;
            }

            .earrings-container {
                width: 270px;
                height: 218px;
            }

            .mask-container {
                width: 238px;
                height: 198px;
            }

            .hero-title::after {
                width: 150px;
            }

            .arc-container {
                padding: 100px 20px 200px;
            }

            .art-arc {
                height: 500px;
            }

            .art-gallery-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 0 15px 60px;
            }

            .gallery-item {
                flex-direction: column;
                min-height: auto;
            }

            .gallery-item-image {
                width: 100%;
                height: 250px;
            }

            .gallery-item-info {
                padding: 20px;
            }

            .gallery-item-artist {
                font-size: 1rem;
            }

            .gallery-item-description {
                font-size: 0.85rem;
            }

            .detail-content {
                padding: 20px;
                width: 95%;
            }

            .detail-title {
                font-size: 2rem;
            }

            .detail-description {
                font-size: 1rem;
            }

            .modal-nav {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }

            .modal-nav.prev {
                left: 10px;
            }

            .modal-nav.next {
                right: 10px;
            }
        }

        @media (max-width: 480px) {
            .hero-section {
                width: 1920px;
                height: 1080px;
            }

            .hero-background {
                width: 1920px;
                height: 1080px;
                background-size: 1920px 1080px;
                background-position: center;
            }

            .hero-title {
                font-size: 2rem;
                letter-spacing: 4px;
            }

            .hero-subtitle {
                font-size: 0.9rem;
                letter-spacing: 2px;
            }

            .hero-title::after {
                width: 100px;
            }

            .clothes-container {
                width: 500px;
                height: 265px;
            }

            .earrings-container {
                width: 200px;
                height: 160px;
            }

            .mask-container {
                width: 180px;
                height: 150px;
            }

            .art-gallery-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .gallery-item-image {
                height: 200px;
            }

            .gallery-item-info {
                padding: 15px;
            }

            .gallery-item-artist {
                font-size: 0.9rem;
            }

            .gallery-item-description {
                font-size: 0.8rem;
            }

            .gallery-item-icon {
                width: 35px;
                height: 35px;
            }

            .gallery-item-icon svg {
                width: 18px;
                height: 18px;
            }

            .detail-title {
                font-size: 1.5rem;
            }
        }

        /* Hide page content until loading is complete */
        body.loading {
            overflow: hidden;
        }

        body.loading > *:not(.loading-screen) {
            opacity: 0;
            visibility: hidden;
        }

        body.loaded > *:not(.loading-screen) {
            opacity: 1;
            visibility: visible;
            transition: opacity 0.5s ease-in;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.3s ease-out;
            pointer-events: none;
        }

        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-screen-content {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        /* Responsive Design for Loading Screen */
        @media (max-width: 768px) {
            .loading-percentage {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .loading-percentage {
                font-size: 1.5rem;
                text-shadow: 
                    0 0 3px rgba(255, 255, 255, 0.4),
                    0 0 6px rgba(255, 255, 255, 0.3);
            }
        }

        @media (max-width: 360px) {
            .loading-percentage {
                font-size: 1.2rem;
            }
        }

        .loading-percentage {
            margin-top: 0;
            font-family: 'Digital', 'Courier New', 'Monaco', 'Menlo', monospace;
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 
                0 0 5px rgba(255, 255, 255, 0.4),
                0 0 10px rgba(255, 255, 255, 0.3);
            letter-spacing: 0.2em;
            opacity: 1 !important;
            font-variant-numeric: tabular-nums;
            display: block !important;
            visibility: visible !important;
            text-align: center;
        }

        .loading-percentage.glitch {
            animation: glitchEffect 0.4s steps(10) !important;
        }

        @keyframes glitchEffect {
            0% {
                transform: translate(0, 0);
                text-shadow: 
                    0 0 10px rgba(255, 255, 255, 0.8),
                    0 0 20px rgba(255, 255, 255, 0.6),
                    0 0 30px rgba(255, 255, 255, 0.4);
                color: #ffffff;
            }
            10% {
                transform: translate(-3px, 2px) scale(1.02);
                text-shadow: 
                    -3px 2px 15px rgba(255, 0, 0, 1),
                    3px -2px 15px rgba(0, 255, 255, 1);
                color: #ff00ff;
            }
            20% {
                transform: translate(3px, -2px) scale(0.98);
                text-shadow: 
                    3px -2px 15px rgba(255, 0, 0, 1),
                    -3px 2px 15px rgba(0, 255, 255, 1);
                color: #00ffff;
            }
            30% {
                transform: translate(-2px, 2px) scale(1.01);
                text-shadow: 
                    -2px 2px 12px rgba(255, 0, 0, 0.9),
                    2px -2px 12px rgba(0, 255, 255, 0.9);
                color: #ff00ff;
            }
            40% {
                transform: translate(2px, -2px) scale(0.99);
                text-shadow: 
                    2px -2px 12px rgba(255, 0, 0, 0.9),
                    -2px 2px 12px rgba(0, 255, 255, 0.9);
                color: #00ffff;
            }
            50% {
                transform: translate(-3px, -3px) scale(1.02);
                text-shadow: 
                    -3px -3px 15px rgba(255, 0, 0, 1),
                    3px 3px 15px rgba(0, 255, 255, 1);
                color: #ff00ff;
            }
            60% {
                transform: translate(3px, 3px) scale(0.98);
                text-shadow: 
                    3px 3px 15px rgba(255, 0, 0, 1),
                    -3px -3px 15px rgba(0, 255, 255, 1);
                color: #00ffff;
            }
            70% {
                transform: translate(-1px, 0) scale(1.01);
                text-shadow: 
                    -1px 0 10px rgba(255, 0, 0, 0.7),
                    1px 0 10px rgba(0, 255, 255, 0.7);
                color: #ff00ff;
            }
            80% {
                transform: translate(1px, 0) scale(0.99);
                text-shadow: 
                    1px 0 10px rgba(255, 0, 0, 0.7),
                    -1px 0 10px rgba(0, 255, 255, 0.7);
                color: #00ffff;
            }
            90% {
                transform: translate(-1px, 1px) scale(1.005);
                text-shadow: 
                    -1px 1px 8px rgba(255, 0, 0, 0.6),
                    1px -1px 8px rgba(0, 255, 255, 0.6);
                color: #ff00ff;
            }
            100% {
                transform: translate(0, 0) scale(1);
                text-shadow: 
                    0 0 10px rgba(255, 255, 255, 0.8),
                    0 0 20px rgba(255, 255, 255, 0.6),
                    0 0 30px rgba(255, 255, 255, 0.4);
                color: #ffffff;
            }
        }

        @keyframes fadeInPercentage {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .loading-percentage::after {
            content: '%';
            margin-left: 5px;
        }
    </style>
</head>
<body class="loading">
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-screen-content">
            <div class="loading-percentage" id="loadingPercentage">0</div>
        </div>
    </div>

    <!-- Transparent Header with Logo -->
    <div class="header">
        <a href="/">
            <img src="/assets/main_logo.png" alt="The Prometheans Logo" class="header-logo">
        </a>
    </div>

    <!-- Art Gallery Section -->
    <section class="dressing-section" id="dressingSection">
        <div class="dressing-content">
            <div class="title-with-toggle">
            <h1 class="dressing-title">Community Arts</h1>
        </div>
        </div>
        
        <!-- Search and Filter Controls -->
        <div class="filter-controls" id="filterControls">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Search by artist, title, or description..." aria-label="Search artworks">
                <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                </div>
            <div class="category-filter-container">
                <button class="view-toggle-btn" id="viewToggleBtn" aria-label="Toggle view">
                    <svg class="view-toggle-icon book-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                        <path d="M8 7h8"></path>
                        <path d="M8 11h8"></path>
                    </svg>
                    <svg class="view-toggle-icon grid-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                    </svg>
                </button>
                <button class="category-filter-btn active" data-category="all" id="filterAll">
                    All
                </button>
                <!-- Category buttons will be dynamically inserted here -->
            </div>
            </div>
            
        <!-- Interactive Book -->
        <div class="book-wrapper" id="bookWrapper">
            <div class="book-container" id="bookContainer">
                <div class="book-spine"></div>
                <!-- Page layers for depth effect -->
                <div class="book-page-layer left-layer"></div>
                <div class="book-page-layer right-layer"></div>
                <!-- Preview pages (shown behind during flip) -->
                <div class="book-page preview-page preview-left" id="previewLeftPage">
                    <div class="page-content" id="previewLeftPageContent">
                        <!-- Preview content will be dynamically inserted here -->
        </div>
                </div>
                <div class="book-page preview-page preview-right" id="previewRightPage">
                    <div class="page-content" id="previewRightPageContent">
                        <!-- Preview content will be dynamically inserted here -->
            </div>
                </div>
                <div class="book-page left-page" id="leftPage">
                    <div class="page-content" id="leftPageContent">
                        <!-- Content will be dynamically inserted here -->
            </div>
                    <div class="page-number" id="leftPageNumber"></div>
                </div>
                <div class="book-page right-page" id="rightPage">
                    <div class="page-content" id="rightPageContent">
                        <!-- Content will be dynamically inserted here -->
                    </div>
                    <div class="page-number" id="rightPageNumber"></div>
                </div>
            </div>
            <div class="book-controls">
                <span class="page-indicator" id="pageIndicator">1 / 1</span>
                </div>
            </div>
            
        <!-- Art Detail Modal -->
        <div class="art-modal" id="artModal">
            <div class="art-modal-overlay" id="artModalOverlay"></div>
            <div class="art-modal-content">
                <button class="art-modal-close" id="artModalClose" aria-label="Close modal">&times;</button>
                <div class="art-modal-body">
                    <div class="art-modal-left">
                        <div class="art-modal-artist-info" id="artModalArtistInfo">
                            <!-- Artist details will be inserted here -->
                        </div>
                    </div>
                    <div class="art-modal-right">
                        <div class="art-modal-image-container" id="artModalImageContainer">
                            <!-- Full image will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Gallery View -->
        <div class="gallery-wrapper" id="galleryWrapper" style="display: none; position: relative;">
            <button class="view-toggle-btn" id="viewToggleBtnGallery" aria-label="Toggle view" style="display: none;">
                <svg class="view-toggle-icon book-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    <path d="M8 7h8"></path>
                    <path d="M8 11h8"></path>
                </svg>
                <svg class="view-toggle-icon grid-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="7" height="7"></rect>
                    <rect x="14" y="3" width="7" height="7"></rect>
                    <rect x="3" y="14" width="7" height="7"></rect>
                    <rect x="14" y="14" width="7" height="7"></rect>
                </svg>
            </button>
            <div class="gallery-container" id="galleryContainer">
                <!-- Gallery cards will be dynamically inserted here -->
            </div>
            <div class="gallery-pagination" id="galleryPagination">
                <!-- Pagination controls will be dynamically inserted here -->
            </div>
        </div>
    </section>

    <!-- Detail Modal -->
    <div class="detail-modal" id="detailModal">
        <button class="modal-close" id="modalClose" aria-label="Close">Ã—</button>
        <button class="modal-nav prev" id="modalPrev" aria-label="Previous">â€¹</button>
        <button class="modal-nav next" id="modalNext" aria-label="Next">â€º</button>
        <div class="detail-content" id="detailContent">
            <!-- Detail content will be dynamically generated -->
        </div>
    </div>


    <script>
        // Initialize paper flip sound for community page
        let communityPaperFlipSound = null;
        let isCommunityAudioUnlocked = false;
        
        try {
            communityPaperFlipSound = new Audio('assets/sounds/paper_flip.mp3');
            communityPaperFlipSound.volume = 0.6; // Set volume (60%)
            communityPaperFlipSound.preload = 'auto';
            communityPaperFlipSound.addEventListener('error', (e) => {
                // Failed to load paper_flip.mp3
                communityPaperFlipSound = null;
            });
        } catch (error) {
            // Failed to create paper flip sound
            communityPaperFlipSound = null;
        }
        
        // Unlock audio on first user interaction
        function unlockCommunityAudio() {
            if (!isCommunityAudioUnlocked && communityPaperFlipSound) {
                communityPaperFlipSound.play().then(() => {
                    communityPaperFlipSound.pause();
                    communityPaperFlipSound.currentTime = 0;
                    isCommunityAudioUnlocked = true;
                }).catch(() => {
                    // Ignore errors
                });
            }
        }
        
        // Unlock audio on various interactions
        document.addEventListener('mousedown', unlockCommunityAudio, { once: true });
        document.addEventListener('click', unlockCommunityAudio, { once: true });
        document.addEventListener('touchstart', unlockCommunityAudio, { once: true });
        document.addEventListener('keydown', unlockCommunityAudio, { once: true });
        
        // Also try to unlock on first mouse movement (some browsers allow this)
        let mouseMoveAttempted = false;
        document.addEventListener('mousemove', () => {
            if (!mouseMoveAttempted) {
                mouseMoveAttempted = true;
                unlockCommunityAudio();
            }
        }, { once: true });
        
        // Function to play paper flip sound
        function playPaperFlipSound() {
            if (!communityPaperFlipSound) return;
            
            // If audio is already unlocked, just play it
            if (isCommunityAudioUnlocked) {
                communityPaperFlipSound.currentTime = 0;
                communityPaperFlipSound.play().catch(() => {});
                return;
            }
            
            // Audio not unlocked yet - try to unlock and play on first hover
            // First attempt: try to unlock by playing and pausing
            communityPaperFlipSound.play().then(() => {
                // Success! Audio is now unlocked
                communityPaperFlipSound.pause();
                communityPaperFlipSound.currentTime = 0;
                isCommunityAudioUnlocked = true;
                // Now play for real
                communityPaperFlipSound.play().catch(() => {});
            }).catch(() => {
                // First attempt failed - browser blocked it
                // Try a second time (sometimes browsers need a retry)
                setTimeout(() => {
                    if (communityPaperFlipSound) {
                        communityPaperFlipSound.play().then(() => {
                            isCommunityAudioUnlocked = true;
                        }).catch(() => {
                            // Still blocked - will need click to unlock
                            // This is a browser security restriction we can't bypass
                        });
                    }
                }, 50);
            });
        }
    </script>

    <!-- Global API Configuration - Load this first before any other scripts -->
    <script src="api-config.js"></script>
    <script>
        // API Configuration - Uses global API_BASE_URL from api-config.js
        const API_BASE = window.API_BASE_URL || 'http://localhost:3001';
        
        // Art data - will be loaded from API
        let artCollection = [];
        
        // Load arts from API
        async function loadArts() {
            try {
                const response = await fetch(`${API_BASE}/api/v1/community-arts`);
                if (!response.ok) {
                    throw new Error('Failed to fetch arts');
                }
                const arts = await response.json();
                // Map database fields to expected format
                artCollection = arts.map(art => ({
                    id: art.id,
                    image: art.image,
                    title: art.title || '',
                    category: art.category,
                    artist: art.artist,
                    xHandle: art.xHandle || '',
                    xUrl: art.xUrl || '',
                    description: art.description || ''
                }));
                
                // Initialize gallery after data is loaded
                if (window.artGallery) {
                    window.artGallery.init();
                } else {
                    window.artGallery = new ArtGallery();
                }
            } catch (error) {
                // Error loading arts
                // Fallback: Use empty array or show error message
                artCollection = [];
                if (window.artGallery) {
                    window.artGallery.init();
                } else {
                    window.artGallery = new ArtGallery();
                }
            }
        }
        
        // Original hardcoded data (kept as fallback/example)
        const artCollectionFallback = [
            {
                id: 1,
                image: 'assets/gallery_images/1.jpg',
                title: '',
                category: 'XION in Korea',
                artist: 'SAINTe',
                xHandle: '@123SAINTe',
                xUrl: 'https://x.com/123SAINTe',
                description: 'Hereâ€™s my entry for Kova Art Contest Theme: @burnt_xion in Korea for Korea Blockchain Week 2025',
  
            },
            {
                id: 2,
                image: 'assets/gallery_images/2.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'C.Johnson',
                xHandle: '@C_johnson005',
                xUrl: 'https://x.com/@C_johnson005',
                description: 'Bringing @burnt_xion to the Joseon era âœ¨',
    
            },
            {
                id: 3,
                image: 'assets/gallery_images/3.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'Amstar',
                xHandle: '@amstar_art',
                xUrl: 'https://x.com/amstar_art',
                description: 'No introduction needed. The XION Syndicate has come to Korea for #KBW2025, and the streets will never be the same ðŸ”¥ðŸ”¥ ',

            },
            {
                id: 4,
                image: 'assets/gallery_images/4.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'Happy.',
                xHandle: '@Happy_Rymz',
                xUrl: 'https://x.com/Happy_Rymz',
                description: 'A conceptual piece that explores themes of futurism and innovation. This artwork challenges perceptions and invites contemplation about what lies ahead in our creative journey.',
  
            },
            {
                id: 5,
                image: 'assets/gallery_images/5.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'Ifeanyi Chukwuemeka',
                xHandle: '@Shingapuo',
                xUrl: 'https://x.com/@Shingapuo',
                description: 'Thought I wouldn\'t make it ðŸ˜…ðŸ˜…lol My Submission came in late ðŸ«´ðŸ”¥',

            },
            {
                id: 6,
                image: 'assets/gallery_images/6.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'Cruz',
                xHandle: '@cruz_w3',
                xUrl: 'https://x.com/@cruz_w3',
                description: 'You already knowâ€¦@burnt_xion team are in Korea ðŸ‡°ðŸ‡· and the energy is unmatched!  KoreaðŸ‡°ðŸ‡·can feel the heatðŸ”¥,the passion, the culture, and $XION energy all the way. Made it in right before the deadline @kayd_kova, even though my tablet had other plansðŸ˜­ðŸ˜… @Prajjwal08  @BurntUnagi_apac @BurntFondue @0xAtoz',
       
            },
      
            {
                id: 7,
                image: 'assets/gallery_images/7.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'GABZILLA',
                xHandle: '@gabzilla_eth',
                xUrl: 'https://x.com/@gabzilla_eth',
                description: 'My submission ðŸ˜…'
       
            },

            {
                id: 8,
                image: 'assets/gallery_images/8.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'IceBear',
                xHandle: '@Blvxkyy',
                xUrl: 'https://x.com/Blvxkyy',
                description: 'To @burnt_xion, the Goated Hombres @BurntBanksy @BurntFondue @BurntUnagi_apac @Prajjwal08 @ZBurntBarrel Banks and the crew found themselves crammed into a tiny food stall, plates stacked high, laughter spilling like soju. Flames set aside for juicy skewers of Beef and Corn.',
       
            },
            {
                id: 9,
                image: 'assets/gallery_images/9.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'DAYVE',
                xHandle: '@Dayve17_',
                xUrl: 'https://x.com/Dayve17_',
                description: 'The Prometheans have been everywhere on my feed today and for good reason. With the burning event approaching, things are about to get ðŸ”¥ real ðŸ”¥. Unminted Prometheans? Gone. Forever. No reruns. No Launchpads. Just ~3,000 will survive. This week is your final chance to mint one before they\'re permanently burned to ashes. And with all that\'s coming next in the XION ecosystem... you\'ll never know when owning a Promethean might just change the game. ðŸ‘‰ <a href="https://xion.talis.art/collection/680f65c18d37e5bcd70be0dd" target="_blank" rel="noopener noreferrer">View Collection</a>'
       
            },
            {
                id: 10,
                image: 'assets/gallery_images/10.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'Afro_v',
                xHandle: '@afro_v1',
                xUrl: 'https://x.com/afro_v1',
                description: 'Taking aim for Xion @burnt_xion. Inspired by the fire of @Prajjwal08 (coolest PrometheanðŸ¥µ). Finished this piece some days ago, couldn\'t get around to posting because of my finalsðŸ˜«. You\'ll be seeing more of me nowðŸ˜ˆðŸ¥‚'
       
            },
            {
                id: 11,
                image: 'assets/gallery_images/11.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'Ifeanyi Chukwuemeka',
                xHandle: '@Shingapuo',
                xUrl: 'https://x.com/Shingapuo',
                description: 'Gm guys another day another fan art I made for @burnt_xion @ThePrometheans_ Rate my outfit ðŸ˜ŠðŸ’¯   3hrs  well spent ðŸ˜… #Fanarts'
       
            },
            {
                id: 12,
                image: 'assets/gallery_images/12.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'HIM',
                xHandle: '@WillyisHIM',
                xUrl: 'https://x.com/@WillyisHIM',
                description: 'I made up my mind to be burnt! And thatâ€™s to become a @burnt_xion believer. This here is an art piece iâ€™m placing as offering. Inspired by the pfp of @BurntBanksy. Believe in something.'
       
            },
            {
                id: 13,
                image: 'assets/gallery_images/13.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'K77',
                xHandle: '@Kenri77',
                xUrl: 'https://x.com/Kenri77',
                description: 'Inspired by @BurntBanksy\'s pfpðŸ˜„. Which of the voices in your head is your friend?ðŸŒš Choose wisely... @burnt_xion #burntxion #Web3 #NFT #fanart Made on @MediBangPaint_e'
       
            },
            {
                id: 14,
                image: 'assets/gallery_images/14.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'KOVA',
                xHandle: '@kayd_kova',
                xUrl: 'https://x.com/kayd_kova',
                description: 'Here\'s a cool concept art I\'ve wanted to make for a while now, so glad I finally had time to create one for XION. I\'m a big anime lover and I\'ve always wondered what @ThePrometheans_ Burnt Banksy 1/1 would look like if it were akasukti from Naruto. Here\'s what I came up with, with itachi as the rightful reference of course ðŸ¤ @burnt_xion'
       
            },
            {
                id: 15,
                image: 'assets/gallery_images/15.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'Ifeanyi Chukwuemeka',
                xHandle: '@Shingapuo',
                xUrl: 'https://x.com/Shingapuo',
                description: 'Finally got to the end of it ðŸ˜…ðŸ¤­ final illustration for the fan art I made for @burnt_xion NFT In his sport outfit heading to the guy in his car... What you looking at ðŸ˜…ðŸ˜‚ @ThePrometheans_'
       
            },
            {
                id: 16,
                image: 'assets/gallery_images/16.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'weirdocat',
                xHandle: '@fweirdocat',
                xUrl: 'https://x.com/fweirdocat',
                description: 'Hey XION believers ðŸ«¶ðŸ» I finally finished my new painting ðŸŽ¨ðŸ”¥ what do you think?ðŸ˜ In this piece I painted the Prometheans stand before a XION portal. A radiant light shines from within guiding the path toward the future of Web3 where simplicity and seamless UX lead the way. Each Promethean carries their own color and style, representing the diversity and strength of the community. Yet all of them look in the same direction: crossing the portal and stepping into the new world being built with XION. This gateway reflects the vision of XION an ecosystem where complexity fades away and users experience clarity, unity and true accessibility. To me the Prometheans are more than NFT characters they embody the community itself. A collective of creativity, belief and unity that proves the real power of Web3 lies in its people. This artwork is a reminder XION is not just a project it\'s a shared journey. A movement toward a borderless future, built on hope and belief in something greater.âœ¨ðŸ”¥'
       
            },
            {
                id: 17,
                image: 'assets/gallery_images/12.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'XION Nigeria',
                xHandle: '@xion_nigeria',
                xUrl: 'https://x.com/@xion_nigeria',
                description: 'Just spotted @ThePrometheans_at the XION Nigeria Bootcamp. ðŸ‡³ðŸ‡¬ðŸ”¥Find the intern to get yours!'
       
            },
            {
                id: 18,
                image: 'assets/gallery_images/18.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'NOBRAIN',
                xHandle: '@rosabasir10',
                xUrl: 'https://x.com/rosabasir10',
                description: 'Burnt Banksy Promethean! ðŸ”¥ Just finished this piece, Inspired by Burnt banksy NFT. Saw the profile of @BurntBanksy, The CEO of XION and decided to draw it! And I would love to hear your thoughts! You can own your own Promethean NFT! All you have to do is mint a naked NFT of @ThePrometheans_ and mutate it! Make it unique and join the army of The prometheans. Here is the link: <a href="http://xion.talis.art/launchpad" target="_blank" rel="noopener noreferrer">xion.talis.art/launchpad</a> Meanwhile believe in XION and its Ecosystem.'
       
            },
            {
                id: 19,
                image: 'assets/gallery_images/19.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'Chrisncreation.inj',
                xHandle: '@NwudeChris1',
                xUrl: 'https://x.com/@NwudeChris1',
                description: 'Expect the unexpected from @ThePrometheans_& @burnt_xion! ðŸ”¥ The notion that many NFTs are dead is prevalent, yet $XION is actively working to dismantle the existing auction house paradigm.Believe in something ðŸ‘‡'
       
            },

            {
                id: 20,
                image: 'assets/gallery_images/20.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'DANIEL',
                xHandle: '@daniarchibong_',
                xUrl: 'https://x.com/@daniarchibong_',
                description: 'Last weekend, I rocked a 1/1 @ThePrometheans_Believe Hoodie to the @AvaxTeam1 Conference at Victory Chapel, Nigeria. I spoke on the opportunities for creators in web3, highlighting a pacesetter in infofi, @KaitoAI, and @burnt_xionâ€™s proof of creativity.'
       
            },

            {
                id: 21,
                image: 'assets/gallery_images/21.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'antarrow',
                xHandle: '@_antarrow_',
                xUrl: 'https://x.com/@_antarrow_',
                description: 'I\'ve immersed myself in art, I create, and I get a kick out of this process, I get a kick out of it when people get into it. This is my true creation. @ThePrometheans_ #XION @PX_Santol'
       
            },
            {
                id: 22,
                image: 'assets/gallery_images/22.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'Pranshu (winter arc)',
                xHandle: '@_antarrow_',
                xUrl: 'https://x.com/_antarrow_',
                description: 'So here\'s what I was cooking!! In this noise of @KaitoAI on @burnt_xion I wanted to do something real. So I tried to put all the OGs of @burnt_xion in a single frame! Let\'s see can I reach the feed of everyone present in this frame - @BurntFondue @BurntBanksy @xAdamBates @jsbmudit @Prajjwal08 @BurntUnagi_apac @zabolotniyD @0xAtoz @ZBurntBarrel. Here is a 1:1 irl NFT to you guys from my side!'
       
            },
            {
                id: 23,
                image: 'assets/gallery_images/23.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'KOVA',
                xHandle: '@kayd_kova',
                xUrl: 'https://x.com/@kayd_kova',
                description: 'Here\'s what my mind sees when I hear we can now MUTATE our pieces on @ThePrometheans_ Let your imagination go crazier than mine !'
       
            },
            {
                id: 24,
                image: 'assets/gallery_images/24.jpg',
                category: 'XION in Korea',
                title: '',
                artist: 'weirdocat',
                xHandle: '@fweirdocat',
                xUrl: 'https://x.com/fweirdocat',
                description: 'Hey @BurntBanksy your new profile picture is ready :))ðŸ«¶ðŸ» Even though I was surprised to see my unfinished painting get selected I think I should share the completed version too :)) I\'m still in shock and so happy. In just two weeks I was honored to be chosen as Top Content Creator for Week 2, and now for Week 3 as well. It\'s a privilege and I\'m truly glad that my paintings can contribute to the growth of this amazing community. Being part of the XION community feels like belonging to something bigger than myself. It\'s not just about a project it\'s about connection, creativity and shared goals. The support, encouragement and recognition my work has received from XION means a lot to me and it motivates me to keep creating and giving back to the community that inspires me every day.'
       
            },
        ];

        // Gallery functionality
        class ArtGallery {
            constructor() {
                this.currentIndex = 0;
                this.artGalleryGrid = document.getElementById('artGalleryGrid');
                this.detailModal = document.getElementById('detailModal');
                this.detailContent = document.getElementById('detailContent');
                this.modalClose = document.getElementById('modalClose');
                this.modalPrev = document.getElementById('modalPrev');
                this.modalNext = document.getElementById('modalNext');
            }

            init() {
                this.currentFilter = 'all';
                this.currentView = 'carousel'; // 'carousel' or 'grid'
                this.renderFilters();
                this.renderCarousel('all');
                this.renderGrid('all');
                this.attachEventListeners();
                this.attachFilterListeners();
                this.attachViewToggle();
            }

            attachViewToggle() {
                const toggleBtn = document.getElementById('viewToggleBtn');
                if (!toggleBtn) return;
                
                toggleBtn.addEventListener('click', () => {
                    this.toggleView();
                });
            }

            toggleView() {
                const carouselView = document.getElementById('carouselView');
                const gridView = document.getElementById('gridView');
                const toggleBtn = document.getElementById('viewToggleBtn');
                
                if (this.currentView === 'carousel') {
                    // Switch to grid view
                    this.currentView = 'grid';
                    carouselView.classList.remove('active');
                    gridView.classList.add('active');
                    toggleBtn.classList.add('grid-active');
                } else {
                    // Switch to carousel view
                    this.currentView = 'carousel';
                    gridView.classList.remove('active');
                    carouselView.classList.add('active');
                    toggleBtn.classList.remove('grid-active');
                }
            }

            renderGrid(filter = 'all') {
                const gridView = document.getElementById('gridView');
                if (!gridView) return;
                
                // Filter items based on selected category
                let filteredItems = artCollection;
                if (filter !== 'all') {
                    filteredItems = artCollection.filter(art => art.category === filter);
                }
                
                // If no items match, show all
                if (filteredItems.length === 0) {
                    filteredItems = artCollection;
                }
                
                // Limit to 6 items for 2x3 grid (2 rows Ã— 3 columns)
                const itemsToShow = filteredItems.slice(0, 6);
                
                gridView.innerHTML = '';
                
                itemsToShow.forEach((art, index) => {
                    const originalIndex = artCollection.findIndex(item => item.id === art.id);
                    const gridItem = document.createElement('div');
                    gridItem.className = 'grid-view-item';
                    gridItem.dataset.index = originalIndex >= 0 ? originalIndex : index;
                    
                    // X logo SVG
                    const xLogoSvg = `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="currentColor"/>
                    </svg>`;
                    
                    gridItem.innerHTML = `
                        <div class="grid-view-item-image">
                            <img src="${art.image}" alt="${art.artist}" loading="lazy">
                        </div>
                        <div class="grid-view-item-info">
                            <div class="grid-view-artist">${art.artist}</div>
                            ${art.xUrl ? `<a href="${art.xUrl}" target="_blank" rel="noopener noreferrer" class="grid-view-x-link" onclick="event.stopPropagation()">
                                ${xLogoSvg}
                                <span>${art.xHandle}</span>
                            </a>` : ''}
                        </div>
                    `;
                    
                    // Add click sound effect
                    gridItem.addEventListener('click', () => {
                        playPaperFlipSound();
                        this.openDetail(originalIndex >= 0 ? originalIndex : index);
                    });
                    gridView.appendChild(gridItem);
                });
            }

            renderFilters() {
                const filtersContainer = document.getElementById('artCarouselFilters');
                if (!filtersContainer) return;
                
                // Get unique categories from artCollection
                const categories = ['all', ...new Set(artCollection.map(art => art.category).filter(Boolean))];
                
                filtersContainer.innerHTML = '';
                
                categories.forEach(category => {
                    const filterBtn = document.createElement('button');
                    filterBtn.className = 'carousel-filter-btn';
                    filterBtn.dataset.filter = category;
                    filterBtn.textContent = category === 'all' ? 'All' : category;
                    if (category === 'all') {
                        filterBtn.classList.add('active');
                    }
                    filtersContainer.appendChild(filterBtn);
                });
            }

            attachFilterListeners() {
                const filterButtons = document.querySelectorAll('.carousel-filter-btn');
                filterButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const filter = btn.dataset.filter;
                        this.setActiveFilter(filter);
                        this.renderCarousel(filter);
                        this.renderGrid(filter);
                    });
                });
            }

            setActiveFilter(filter) {
                const filterButtons = document.querySelectorAll('.carousel-filter-btn');
                filterButtons.forEach(btn => {
                    if (btn.dataset.filter === filter) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
                this.currentFilter = filter;
            }

            renderCarousel(filter = 'all') {
                const carousel = document.getElementById('artCarousel');
                if (!carousel) return;
                
                // Add updating class for transition
                carousel.classList.add('updating');
                
                // Filter items based on selected category
                let filteredItems = artCollection;
                if (filter !== 'all') {
                    filteredItems = artCollection.filter(art => art.category === filter);
                }
                
                // If no items match, show all
                if (filteredItems.length === 0) {
                    filteredItems = artCollection;
                }
                
                // Duplicate items for seamless loop
                const itemsToShow = [...filteredItems, ...filteredItems];
                
                // Store original indices for detail modal
                const originalIndices = [];
                itemsToShow.forEach((art) => {
                    const originalIndex = artCollection.findIndex(item => item.id === art.id);
                    originalIndices.push(originalIndex >= 0 ? originalIndex : 0);
                });
                
                // Clear and rebuild carousel
                setTimeout(() => {
                    carousel.innerHTML = '';
                    
                    itemsToShow.forEach((art, index) => {
                        const carouselItem = document.createElement('div');
                        carouselItem.className = 'art-carousel-item';
                        const originalIndex = originalIndices[index];
                        carouselItem.dataset.index = originalIndex;
                        
                        // Verified checkmark SVG
                        const verifiedSvg = `<svg class="art-carousel-verified" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
                        </svg>`;
                        
                        // X logo SVG
                        const xLogoSvg = `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="currentColor"/>
                        </svg>`;
                        
                        carouselItem.innerHTML = `
                            <div class="art-carousel-image">
                                <img src="${art.image}" alt="${art.artist}" loading="lazy">
                            </div>
                            <div class="art-carousel-info">
                                <div class="art-carousel-artist">
                                    ${verifiedSvg}
                                    <span>${art.artist}</span>
                                </div>
                                ${art.xUrl ? `<a href="${art.xUrl}" target="_blank" rel="noopener noreferrer" class="art-carousel-x-link" onclick="event.stopPropagation()">
                                    ${xLogoSvg}
                                    <span>${art.xHandle}</span>
                                </a>` : ''}
                            </div>
                        `;
                        
                        // Add click sound effect
                        carouselItem.addEventListener('click', () => {
                            playPaperFlipSound();
                            this.openDetail(originalIndex);
                        });
                        carousel.appendChild(carouselItem);
                    });
                    
                    // Remove updating class
                    carousel.classList.remove('updating');
                }, 150);
            }

            renderGallery() {
                this.artGalleryGrid.innerHTML = '';
                
                artCollection.forEach((art, index) => {
                    const galleryItem = document.createElement('div');
                    galleryItem.className = 'gallery-item';
                    galleryItem.dataset.index = index;
                    
                    // X logo SVG
                    const xLogoSvg = `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="currentColor"/>
                    </svg>`;
                    
                    galleryItem.innerHTML = `
                        <div class="gallery-item-image">
                            <img src="${art.image}" alt="${art.title}" loading="lazy">
                        </div>
                        <div class="gallery-item-info">
                            <div class="gallery-item-artist">${art.artist}</div>
                            ${art.xUrl ? `<a href="${art.xUrl}" target="_blank" rel="noopener noreferrer" class="gallery-item-x-link" onclick="event.stopPropagation()">
                                ${xLogoSvg}
                                <span>${art.xHandle}</span>
                            </a>` : ''}
                        </div>
                    `;
                    
                    galleryItem.addEventListener('click', () => this.openDetail(index));
                    this.artGalleryGrid.appendChild(galleryItem);
                });
            }

            openDetail(index) {
                this.currentIndex = index;
                const art = artCollection[index];
                
                // X logo SVG
                const xLogoSvg = `<svg class="x-logo" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="currentColor"/>
                </svg>`;
                
                // Share icon SVG
                const shareIconSvg = `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z" fill="currentColor"/>
                </svg>`;
                
                // Create image element with portrait detection
                const img = document.createElement('img');
                img.src = art.image;
                img.alt = art.title;
                img.className = 'detail-image';
                
                // Load image and check if it's portrait, then apply constraints
                img.onload = function() {
                    const isPortrait = img.naturalHeight > img.naturalWidth;
                    
                    // Special handling for id 4 (Happy's image) - make it smaller
                    if (art.id === 4) {
                        // Reduce size by 30% while maintaining aspect ratio
                        if (isPortrait) {
                            img.style.maxHeight = '45vh'; // Reduced from 65vh
                            img.style.maxWidth = '70%'; // Reduced from 90%
                        } else {
                            img.style.maxHeight = '55vh'; // Reduced from 75vh
                            img.style.maxWidth = '75%'; // Reduced from 100%
                        }
                    } else {
                        // Normal constraints for other images
                        if (isPortrait) {
                            // For portrait images, limit height more strictly
                            img.style.maxHeight = '65vh';
                            img.style.maxWidth = '90%';
                        } else {
                            // For landscape images, use normal constraints
                            img.style.maxHeight = '75vh';
                            img.style.maxWidth = '100%';
                        }
                    }
                };
                
                this.detailContent.innerHTML = `
                    <div class="detail-image-container">
                    </div>
                    <div class="detail-info">
                        <div class="detail-number">
                            <span>${String(index + 1).padStart(2, '0')} / ${String(artCollection.length).padStart(2, '0')}</span>
                            <div class="detail-number-share">
                                <button class="modal-share" onclick="shareArt()" aria-label="Share">
                                    ${shareIconSvg}
                                </button>
                            </div>
                        </div>
                        <h2 class="detail-title">${art.title}</h2>
                        <div class="detail-artist">
                            <span>by ${art.artist}</span>
                            ${art.xUrl ? `<a href="${art.xUrl}" target="_blank" rel="noopener noreferrer" class="detail-x-link" title="Follow on X">
                                ${xLogoSvg}
                                <span>${art.xHandle}</span>
                            </a>` : ''}
                        </div>
                        <p class="detail-description">${art.description}</p>
                    </div>
                `;
                
                // Add image to container with portrait detection
                const container = this.detailContent.querySelector('.detail-image-container');
                if (container) {
                    container.appendChild(img);
                }
                
                this.detailModal.classList.add('active');
                document.body.style.overflow = 'hidden';
                this.updateNavigation();
                
                // Add long press scrolling functionality
                this.setupLongPressScrolling();
            }
            
            setupLongPressScrolling() {
                const detailInfo = this.detailContent.querySelector('.detail-info');
                if (!detailInfo) return;
                
                let longPressTimer = null;
                let isLongPressing = false;
                let scrollDirection = 0; // 1 for down, -1 for up
                let scrollInterval = null;
                let indicator = null;
                
                const createIndicator = () => {
                    if (indicator) return indicator;
                    indicator = document.createElement('div');
                    indicator.className = 'long-press-indicator';
                    detailInfo.appendChild(indicator);
                    return indicator;
                };
                
                const startLongPress = (e, direction) => {
                    if (longPressTimer) return;
                    
                    const rect = detailInfo.getBoundingClientRect();
                    const centerY = rect.top + rect.height / 2;
                    const clickY = e.clientY || (e.touches && e.touches[0] ? e.touches[0].clientY : 0);
                    
                    scrollDirection = clickY < centerY ? -1 : 1; // Up if clicked above center, down if below
                    
                    longPressTimer = setTimeout(() => {
                        isLongPressing = true;
                        const ind = createIndicator();
                        ind.style.left = (rect.left + rect.width / 2 - 30) + 'px';
                        ind.style.top = (rect.top + rect.height / 2 - 30) + 'px';
                        ind.classList.add('active');
                        
                        // Start continuous scrolling
                        scrollInterval = setInterval(() => {
                            const scrollableElement = detailInfo.querySelector('.detail-description') || detailInfo;
                            if (scrollableElement) {
                                const scrollAmount = scrollDirection * 30; // Scroll 30px per interval
                                scrollableElement.scrollBy({
                                    top: scrollAmount,
                                    behavior: 'auto'
                                });
                            }
                        }, 50); // Scroll every 50ms
                    }, 500); // 500ms long press delay
                };
                
                const stopLongPress = () => {
                    if (longPressTimer) {
                        clearTimeout(longPressTimer);
                        longPressTimer = null;
                    }
                    if (scrollInterval) {
                        clearInterval(scrollInterval);
                        scrollInterval = null;
                    }
                    if (isLongPressing) {
                        isLongPressing = false;
                        if (indicator) {
                            indicator.classList.remove('active');
                        }
                    }
                };
                
                // Mouse events
                detailInfo.addEventListener('mousedown', (e) => {
                    if (e.button === 0) { // Left mouse button
                        startLongPress(e, 0);
                    }
                });
                
                detailInfo.addEventListener('mouseup', stopLongPress);
                detailInfo.addEventListener('mouseleave', stopLongPress);
                
                // Touch events
                detailInfo.addEventListener('touchstart', (e) => {
                    startLongPress(e, 0);
                }, { passive: true });
                
                detailInfo.addEventListener('touchend', stopLongPress);
                detailInfo.addEventListener('touchcancel', stopLongPress);
                detailInfo.addEventListener('touchmove', (e) => {
                    // Cancel if user moves finger too much
                    if (longPressTimer && e.touches && e.touches[0]) {
                        const initialY = e.touches[0].clientY;
                        // If moved more than 10px, cancel
                        if (Math.abs(initialY - (e.touches[0].clientY || initialY)) > 10) {
                            stopLongPress();
                        }
                    }
                }, { passive: true });
            }

            closeDetail() {
                this.detailModal.classList.remove('active');
                document.body.style.overflow = '';
            }

            navigateDetail(direction) {
                if (direction === 'next') {
                    this.currentIndex = (this.currentIndex + 1) % artCollection.length;
                } else {
                    this.currentIndex = (this.currentIndex - 1 + artCollection.length) % artCollection.length;
                }
                this.openDetail(this.currentIndex);
            }

            updateNavigation() {
                // Navigation buttons are always enabled for infinite loop
            }

            attachEventListeners() {
                // Close modal
                this.modalClose.addEventListener('click', () => this.closeDetail());
                this.detailModal.addEventListener('click', (e) => {
                    if (e.target === this.detailModal) {
                        this.closeDetail();
                    }
                });

                // Navigation
                this.modalPrev.addEventListener('click', () => this.navigateDetail('prev'));
                this.modalNext.addEventListener('click', () => this.navigateDetail('next'));

                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (this.detailModal.classList.contains('active')) {
                        if (e.key === 'Escape') {
                            this.closeDetail();
                        } else if (e.key === 'ArrowLeft') {
                            this.navigateDetail('prev');
                        } else if (e.key === 'ArrowRight') {
                            this.navigateDetail('next');
                        }
                    }
                });

                // Touch swipe for mobile
                let touchStartX = 0;
                let touchEndX = 0;

                this.detailModal.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                }, { passive: true });

                this.detailModal.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].screenX;
                    this.handleSwipe();
                }, { passive: true });
            }

            handleSwipe() {
                const swipeThreshold = 50;
                const diff = touchStartX - touchEndX;

                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        this.navigateDetail('next');
                    } else {
                        this.navigateDetail('prev');
                    }
                }
            }
        }

        // Share functionality
        function shareArt() {
            if (!gallery) return;
            const art = artCollection[gallery.currentIndex];
            if (navigator.share) {
                navigator.share({
                    title: art.title,
                    text: art.description,
                    url: window.location.href
                }).catch(err => { /* Error sharing */ });
            } else {
                // Fallback: copy to clipboard
                const text = `${art.title}\n${art.description}\n${window.location.href}`;
                navigator.clipboard.writeText(text).then(() => {
                    alert('Art information copied to clipboard!');
                });
            }
        }

        // Share functionality for gallery items
        function shareArtItem(index) {
            const art = artCollection[index];
            if (navigator.share) {
                navigator.share({
                    title: art.title,
                    text: `${art.artist} - ${art.description}`,
                    url: window.location.href
                }).catch(err => { /* Error sharing */ });
            } else {
                // Fallback: copy to clipboard
                const text = `${art.artist}\n${art.description}\n${window.location.href}`;
                navigator.clipboard.writeText(text).then(() => {
                    alert('Art information copied to clipboard!');
                });
            }
        }


        // Hero Particles Animation
        function createHeroParticles() {
            const particlesContainer = document.getElementById('heroParticles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (10 + Math.random() * 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }


        // Helper function to calculate responsive positions
        function getResponsivePosition(baseValue, baseSize, currentSize) {
            return (baseValue / baseSize) * currentSize;
        }

        // Clothes animation
        function initClothesAnimation() {
            const clothesContainer = document.getElementById('clothesContainer');
            const heroSection = document.getElementById('heroSection');
            
            if (!clothesContainer || !heroSection) {
                // Clothes container or hero section not found
                return null;
            }
            
            // Fixed dimensions for 1920x1080
            const finalWidth = 943;
            const finalHeight = 500;
            const finalX = 489;
            const finalY = 580;
            
            // Starting position (off-screen right, above viewport)
            const startX = 1920 + 200;
            const startY = -600;
            
            // Set initial position
            clothesContainer.style.width = finalWidth + 'px';
            clothesContainer.style.height = finalHeight + 'px';
            clothesContainer.style.left = startX + 'px';
            clothesContainer.style.top = startY + 'px';
            clothesContainer.style.opacity = '0';
            clothesContainer.style.transform = 'scale(0.5)';
            clothesContainer.style.transition = 'none';
            
            let isVisible = false;
            
            // Animate in function
            function animateIn(duration = '1s') {
                if (isVisible) return;
                isVisible = true;
                const sectionTop = heroSection.offsetTop;
                const currentY = sectionTop + finalY;
                const currentX = finalX;
                
                clothesContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                clothesContainer.style.left = currentX + 'px';
                clothesContainer.style.top = currentY + 'px';
                clothesContainer.style.opacity = '1';
                clothesContainer.style.transform = 'scale(1)';
                clothesContainer.classList.add('visible');
            }
            
            // Reverse/animate out function
            function animateOut(duration = '0.6s') {
                if (!isVisible) return;
                isVisible = false;
                
                clothesContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                clothesContainer.style.left = startX + 'px';
                clothesContainer.style.top = startY + 'px';
                clothesContainer.style.opacity = '0';
                clothesContainer.style.transform = 'scale(0.5)';
                clothesContainer.classList.remove('visible');
            }
            
            // Handle window resize - keep fixed positions
            window.addEventListener('resize', () => {
                const sectionTop = heroSection.offsetTop;
                const currentY = sectionTop + finalY;
                const currentX = finalX;
                
                if (isVisible) {
                    clothesContainer.style.left = currentX + 'px';
                    clothesContainer.style.top = currentY + 'px';
                }
            });
            
            return { animateIn, animateOut };
        }

        // Earrings animation
        function initEarringsAnimation() {
            const earringsContainer = document.getElementById('earringsContainer');
            const heroSection = document.getElementById('heroSection');
            
            if (!earringsContainer || !heroSection) {
                // Earrings container or hero section not found
                return null;
            }
            
            // Fixed dimensions for 1920x1080
            const finalWidth = 360;
            const finalHeight = 290;
            const finalX = 780;
            const finalY = 503;
            
            // Starting position (off-screen left, above viewport)
            const startX = -400;
            const startY = -500;
            
            // Set initial position
            earringsContainer.style.width = finalWidth + 'px';
            earringsContainer.style.height = finalHeight + 'px';
            earringsContainer.style.left = startX + 'px';
            earringsContainer.style.top = startY + 'px';
            earringsContainer.style.opacity = '0';
            earringsContainer.style.transform = 'scale(0.5)';
            earringsContainer.style.transition = 'none';
            
            let isVisible = false;
            
            // Animate in function
            function animateIn(duration = '1s') {
                if (isVisible) return;
                isVisible = true;
                const sectionTop = heroSection.offsetTop;
                const currentY = sectionTop + finalY;
                const currentX = finalX;
                
                earringsContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                earringsContainer.style.left = currentX + 'px';
                earringsContainer.style.top = currentY + 'px';
                earringsContainer.style.opacity = '1';
                earringsContainer.style.transform = 'scale(1)';
                earringsContainer.classList.add('visible');
            }
            
            // Reverse/animate out function
            function animateOut(duration = '0.6s') {
                if (!isVisible) return;
                isVisible = false;
                
                earringsContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                earringsContainer.style.left = startX + 'px';
                earringsContainer.style.top = startY + 'px';
                earringsContainer.style.opacity = '0';
                earringsContainer.style.transform = 'scale(0.5)';
                earringsContainer.classList.remove('visible');
            }
            
            // Handle window resize - keep fixed positions
            window.addEventListener('resize', () => {
                const sectionTop = heroSection.offsetTop;
                const currentY = sectionTop + finalY;
                const currentX = finalX;
                
                if (isVisible) {
                    earringsContainer.style.left = currentX + 'px';
                    earringsContainer.style.top = currentY + 'px';
                }
            });
            
            return { animateIn, animateOut };
        }

        // Mask animation - only triggers on scroll
        function initMaskAnimation() {
            const maskContainer = document.getElementById('maskContainer');
            const heroSection = document.getElementById('heroSection');
            
            if (!maskContainer || !heroSection) {
                // Mask container or hero section not found
                return null;
            }
            
            // Fixed dimensions for 1920x1080
            const finalWidth = 317;
            const finalHeight = 264;
            const finalX = 802;
            const finalY = 398;
            
            // Starting position (off-screen left, above viewport)
            const startX = -600;
            const startY = -700;
            
            // Set initial position - mask stays hidden until scroll
            maskContainer.style.width = finalWidth + 'px';
            maskContainer.style.height = finalHeight + 'px';
            maskContainer.style.left = startX + 'px';
            maskContainer.style.top = startY + 'px';
            maskContainer.style.opacity = '0';
            maskContainer.style.transform = 'scale(0.5)';
            maskContainer.style.transition = 'none';
            
            let isVisible = false;
            
            // Animate in function (fast animation)
            function animateIn(duration = '0.4s') {
                if (isVisible) return;
                isVisible = true;
                const sectionTop = heroSection.offsetTop;
                const currentY = sectionTop + finalY;
                const currentX = finalX;
                
                maskContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                maskContainer.style.left = currentX + 'px';
                maskContainer.style.top = currentY + 'px';
                maskContainer.style.opacity = '1';
                maskContainer.style.transform = 'scale(1)';
                maskContainer.classList.add('visible');
            }
            
            // Reverse/animate out function
            function animateOut(duration = '0.6s') {
                if (!isVisible) return;
                isVisible = false;
                
                maskContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                maskContainer.style.left = startX + 'px';
                maskContainer.style.top = startY + 'px';
                maskContainer.style.opacity = '0';
                maskContainer.style.transform = 'scale(0.5)';
                maskContainer.classList.remove('visible');
            }
            
            // Handle window resize - keep fixed positions
            window.addEventListener('resize', () => {
                const sectionTop = heroSection.offsetTop;
                const currentY = sectionTop + finalY;
                const currentX = finalX;
                
                if (isVisible) {
                    maskContainer.style.left = currentX + 'px';
                    maskContainer.style.top = currentY + 'px';
                }
            });
            
            return { animateIn, animateOut };
        }

        // Holding Book animation - comes from bottom
        function initHoldingBookAnimation() {
            const holdingBookContainer = document.getElementById('holdingBookContainer');
            const heroSection = document.getElementById('heroSection');
            
            if (!holdingBookContainer || !heroSection) {
                // Holding book container or hero section not found
                return null;
            }
            
            // Fixed dimensions for 1920x1080
            const finalWidth = 713;
            const finalHeight = 305;
            // Center horizontally at same position as scroll indicator arrow (center of 1920px = 960px)
            // Y coordinates: Y top: 775px, Y bottom: 1080px (end of section)
            // Position using top-left corner (CSS left/top position from top-left)
            const finalX = 960 - (finalWidth / 2); // Center at 960px, so left = 960 - 356.5 = 603.5px
            const finalY = 775; // Top edge position (bottom will be at 775 + 305 = 1080px)
            
            // Starting position (off-screen bottom, below viewport)
            const startX = finalX;
            const startY = 1080 + 400; // Start well below the section (which ends at 1080px)
            
            // Set initial position
            holdingBookContainer.style.width = finalWidth + 'px';
            holdingBookContainer.style.height = finalHeight + 'px';
            holdingBookContainer.style.left = startX + 'px';
            holdingBookContainer.style.top = startY + 'px';
            holdingBookContainer.style.opacity = '0';
            holdingBookContainer.style.transform = 'scale(0.8)';
            holdingBookContainer.style.transition = 'none';
            
            let isVisible = false;
            
            // Animate in function (slides up from bottom)
            function animateIn(duration = '0.8s') {
                if (isVisible) return;
                isVisible = true;
                const sectionTop = heroSection.offsetTop;
                // Position: Centered horizontally at 960px (same as scroll arrow)
                // Top edge at 775px, bottom edge at 1080px (end of section)
                const currentY = sectionTop + finalY; // 775px from section top
                const currentX = finalX; // Left edge position (centered at 960px)
                
                holdingBookContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                holdingBookContainer.style.left = currentX + 'px';
                holdingBookContainer.style.top = currentY + 'px';
                holdingBookContainer.style.opacity = '1';
                holdingBookContainer.style.transform = 'scale(1)';
                holdingBookContainer.classList.add('visible');
            }
            
            // Reverse/animate out function
            function animateOut(duration = '0.6s') {
                if (!isVisible) return;
                isVisible = false;
                
                holdingBookContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                holdingBookContainer.style.left = startX + 'px';
                holdingBookContainer.style.top = startY + 'px';
                holdingBookContainer.style.opacity = '0';
                holdingBookContainer.style.transform = 'scale(0.8)';
                holdingBookContainer.classList.remove('visible');
            }
            
            // Handle window resize - keep fixed positions
            window.addEventListener('resize', () => {
                const sectionTop = heroSection.offsetTop;
                // Maintain position: top at 775px, bottom at 1080px
                const currentY = sectionTop + finalY;
                const currentX = finalX;
                
                if (isVisible) {
                    holdingBookContainer.style.left = currentX + 'px';
                    holdingBookContainer.style.top = currentY + 'px';
                }
            });
            
            return { animateIn, animateOut };
        }

        // Aura animation - left to right
        function initAuraAnimation() {
            const auraContainer = document.getElementById('auraContainer');
            const heroSection = document.getElementById('heroSection');
            
            if (!auraContainer || !heroSection) {
                // Aura container or hero section not found
                return null;
            }
            
            // Fixed dimensions and positions for 1920x1080
            // Positioned to bridge between first section and next section
            const finalWidth = 1920;
            const finalHeight = 467;
            const finalX = 0;
            // Position aura right at the edge of the section (at 1080px from top)
            // Section height is 1080px, so aura starts at Y: 1080px and extends to Y: 1547px
            // This means it starts exactly at the bottom edge and extends into the next section
            // Offset to move it up a bit
            const offsetY = -450; // Move up 50px (adjust this value to move more/less)
            const finalY = 1080 + offsetY; // Start at bottom edge minus offset
            
            // Starting position (off-screen left)
            const startX = -1920;
            const startY = finalY;
            
            // Set initial position
            auraContainer.style.width = finalWidth + 'px';
            auraContainer.style.height = finalHeight + 'px';
            const sectionTop = heroSection.offsetTop;
            const sectionHeight = heroSection.offsetHeight;
            auraContainer.style.left = '-1920px'; // Off-screen left
            auraContainer.style.top = (sectionTop + sectionHeight + offsetY) + 'px'; // Bottom edge minus offset
            auraContainer.style.opacity = '0';
            auraContainer.style.transition = 'none';
            
            let isVisible = false;
            
            // Animate in function (left to right)
            function animateIn(duration = '1s') {
                if (isVisible) return;
                isVisible = true;
                const sectionTop = heroSection.offsetTop;
                const sectionHeight = heroSection.offsetHeight; // Should be 1080px
                // Position aura to bridge between first section and next section
                // Calculate position so it starts at bottom of section 1 and extends into section 2
                // Section 1 ends at: sectionTop + sectionHeight (e.g., sectionTop + 1080)
                // Position aura to start near bottom: sectionTop + sectionHeight - 100 (100px before end)
                // This makes it span from (sectionTop + 980) to (sectionTop + 1447), bridging both sections
                // Position aura right at the edge of the section (at 1080px from top of section)
                // Apply offset to move it up a bit
                const currentY = sectionTop + sectionHeight + offsetY; // Bottom edge minus offset
                // Center horizontally: calculate center position for 1920px width
                const centerX = (window.innerWidth / 2) - (finalWidth / 2);
                const currentX = centerX;
                
                auraContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                auraContainer.style.left = currentX + 'px';
                auraContainer.style.top = currentY + 'px';
                auraContainer.style.opacity = '1';
                auraContainer.classList.add('visible');
            }
            
            // Reverse/animate out function
            function animateOut(duration = '0.6s') {
                if (!isVisible) return;
                isVisible = false;
                
                auraContainer.style.transition = `all ${duration} cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                auraContainer.style.left = '-1920px'; // Move off-screen left
                auraContainer.style.opacity = '0';
                auraContainer.classList.remove('visible');
            }
            
            // Handle window resize - update position
            function updateAuraPosition() {
                if (!heroSection) return;
                const sectionTop = heroSection.offsetTop;
                const sectionHeight = heroSection.offsetHeight;
                const currentY = sectionTop + sectionHeight + offsetY; // Bottom edge minus offset
                const centerX = (window.innerWidth / 2) - (finalWidth / 2);
                
                if (isVisible) {
                    auraContainer.style.left = centerX + 'px';
                    auraContainer.style.top = currentY + 'px';
                } else {
                    auraContainer.style.left = '-1920px'; // Off-screen left
                    auraContainer.style.top = currentY + 'px';
                }
            }
            
            window.addEventListener('resize', updateAuraPosition);
            
            return { animateIn, animateOut };
        }


        // Wait for all fonts to load properly
        async function waitForFonts() {
            try {
                // Wait for document.fonts API to be ready
                if (!document.fonts || !document.fonts.ready) {
                    // Font API not available
                    return;
                }

                // Wait for fonts.ready with a reasonable timeout
                await Promise.race([
                    document.fonts.ready,
                    new Promise(resolve => setTimeout(resolve, 3000)) // 3 second timeout
                ]);

                // Helper function to check font with multiple variations
                function checkFont(fontFamily) {
                    return document.fonts.check(`1em "${fontFamily}"`) || 
                           document.fonts.check(`1em ${fontFamily}`) ||
                           document.fonts.check(`12px "${fontFamily}"`) ||
                           document.fonts.check(`12px ${fontFamily}`);
                }

                // Check if both fonts are loaded
                let fingerPaintLoaded = checkFont('Finger Paint');
                let digitalLoaded = checkFont('Digital');

                // Wait a bit more if fonts aren't loaded yet (with timeout)
                let attempts = 0;
                const maxAttempts = 30; // 3 seconds total (30 * 100ms)
                
                while ((!fingerPaintLoaded || !digitalLoaded) && attempts < maxAttempts) {
                    await new Promise(resolve => setTimeout(resolve, 100));
                    fingerPaintLoaded = checkFont('Finger Paint');
                    digitalLoaded = checkFont('Digital');
                    
                    if (fingerPaintLoaded && digitalLoaded) {
                        // All fonts loaded successfully
                        return;
                    }
                    attempts++;
                }

                // Final check and log
                fingerPaintLoaded = checkFont('Finger Paint');
                digitalLoaded = checkFont('Digital');

                if (fingerPaintLoaded) {
                    // Finger Paint font loaded
                } else {
                    // Finger Paint font not loaded, using fallback
                }

                if (digitalLoaded) {
                    // Digital font loaded
                } else {
                    // Digital font not loaded, using fallback
                }

            } catch (error) {
                // Error waiting for fonts
                // Continue anyway - fallback fonts will be used
            }
        }

        // Loading Screen Functionality
        async function initLoadingScreen() {
            // Wait for all fonts to load properly before proceeding
            await waitForFonts();
            
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingPercentage = document.getElementById('loadingPercentage');
            if (!loadingScreen) return;

            let currentPercentage = 0;
            let animationFrameId = null;
            let loadingComplete = false;
            const startTime = Date.now();
            const minLoadingTime = 2500; // Minimum 2.5 seconds for smooth animation
            let allContentLoaded = false;
            let imageLoadProgress = 0; // Track image loading progress (0-1)
            
            let isRolling = false;
            let rollInterval = null;
            let currentRollValue = 1;
            const rollSpeed = 15; // Milliseconds between number changes (much faster animation)

            // Continuous rolling animation from 1% to 100%
            function startRolling() {
                if (isRolling) return;
                
                isRolling = true;
                currentRollValue = 1;
                
                // Clear any existing roll interval
                if (rollInterval) {
                    clearInterval(rollInterval);
                }
                
                // Update initial value
                if (loadingPercentage) {
                    loadingPercentage.textContent = currentRollValue;
                }
                
                rollInterval = setInterval(() => {
                    // Increment the value
                    currentRollValue++;
                    
                    if (currentRollValue <= 100) {
                        // Update display with current rolling value
                        if (loadingPercentage) {
                            loadingPercentage.textContent = currentRollValue;
                        }
                    } else {
                        // Reached 100%
                        clearInterval(rollInterval);
                        rollInterval = null;
                        isRolling = false;
                        currentRollValue = 100;
                        
                        if (loadingPercentage) {
                            loadingPercentage.textContent = 100;
                        }
                        
                        // Trigger completion check
                        checkForCompletion();
                    }
                }, rollSpeed);
            }
            
            // Check if loading is complete and trigger hide
            function checkForCompletion() {
                const elapsed = Date.now() - startTime;
                const minTimeElapsed = elapsed >= minLoadingTime;
                
                if (currentRollValue >= 100 && !loadingComplete && minTimeElapsed) {
                    loadingComplete = true;
                    onLoadingComplete();
                }
            }

            // Update percentage display
            function updatePercentage() {
                if (loadingPercentage) {
                    loadingPercentage.textContent = Math.min(100, Math.max(1, currentRollValue));
                }
            }

            // Animate percentage counter
            function animatePercentage() {
                // Check for completion
                checkForCompletion();
                
                // Stop animation if complete
                if (loadingComplete) {
                    if (animationFrameId) {
                        cancelAnimationFrame(animationFrameId);
                        animationFrameId = null;
                    }
                    return;
                }
                
                // Continue animation
                animationFrameId = requestAnimationFrame(animatePercentage);
            }

            // Called when loading reaches 100%
            function onLoadingComplete() {
                // Hide loading screen immediately
                hideLoadingScreen();
            }

            // Update image loading progress (0 to 1)
            function updateImageProgress(progress) {
                imageLoadProgress = Math.min(1, Math.max(0, progress));
            }

            // Mark content as fully loaded
            function markContentLoaded() {
                allContentLoaded = true;
                imageLoadProgress = 1; // Mark images as fully loaded
            }

            // Hide loading screen after page loads and content is ready
            function hideLoadingScreen() {
                // Ensure we show 100% before hiding
                if (currentRollValue < 100) {
                    currentRollValue = 100;
                    if (loadingPercentage) {
                        loadingPercentage.textContent = 100;
                    }
                    // Try again immediately
                    hideLoadingScreen();
                    return;
                }

                // Mark body as loaded to show content
                document.body.classList.remove('loading');
                document.body.classList.add('loaded');

                // Hide loading screen
                if (loadingScreen && !loadingScreen.classList.contains('hidden')) {
                    loadingScreen.classList.add('hidden');
                    // Remove from DOM after fade out completes
                    setTimeout(() => {
                        if (loadingScreen.parentNode) {
                            loadingScreen.parentNode.removeChild(loadingScreen);
                        }
                        if (animationFrameId) {
                            cancelAnimationFrame(animationFrameId);
                            animationFrameId = null;
                        }
                        // Re-enable scrolling
                        document.body.style.overflow = '';
                    }, 300);
                }
            }

            // Start animation - continuous roll from 1% to 100%
            currentRollValue = 1;
            updatePercentage();
            startRolling();
            animatePercentage();

            // Wait for images and content to load
            const images = document.querySelectorAll('img');
            const totalImages = images.length;
            let imagesLoaded = 0;

            if (totalImages === 0) {
                // No images, mark as loaded after minimum time
                setTimeout(() => {
                    markContentLoaded();
                }, minLoadingTime);
                return;
            }

            function checkAllLoaded() {
                imagesLoaded++;
                // Update image loading progress (0 to 1)
                const progress = imagesLoaded / totalImages;
                updateImageProgress(progress);
                
                if (imagesLoaded >= totalImages) {
                    // All images loaded, mark content as loaded
                    // Animation will continue to 100% naturally based on time
                    markContentLoaded();
                }
            }

            // Check if images are already loaded
            images.forEach(img => {
                if (img.complete) {
                    checkAllLoaded();
                } else {
                    img.addEventListener('load', checkAllLoaded);
                    img.addEventListener('error', checkAllLoaded); // Count errors too
                }
            });

            // Fallback: mark as loaded after maximum wait time (4 seconds)
            setTimeout(() => {
                markContentLoaded();
            }, 4000);
        }

        // Initialize gallery and animations
        let gallery;
        let clothesAnimation, earringsAnimation, maskAnimation, holdingBookAnimation, auraAnimation;
        let heroSection;
        
        document.addEventListener('DOMContentLoaded', async () => {
            // Initialize loading screen (async to preload font)
            await initLoadingScreen();
            
            // Load arts from API first, then initialize gallery
            await loadArts();
            
            // Hero section removed - particles disabled
            // createHeroParticles();
            
            // Initialize animations
            // Hero section animations disabled - hero section removed
            // clothesAnimation = initClothesAnimation();
            // earringsAnimation = initEarringsAnimation();
            // maskAnimation = initMaskAnimation();
            // holdingBookAnimation = initHoldingBookAnimation();
            // auraAnimation = initAuraAnimation();
            clothesAnimation = null;
            earringsAnimation = null;
            maskAnimation = null;
            holdingBookAnimation = null;
            auraAnimation = null;
            
            // Hero section removed - no scroll animations needed
            heroSection = null;
            
            // Scroll handler for sequential equipping/unequipping - DISABLED (hero section removed)
            // Works the same on desktop, tablet, and mobile - instant response
            let lastScrollY = window.scrollY;
            let equippedItems = {
                clothes: false,
                earrings: false,
                mask: false,
                holdingBook: false,
                aura: false
            };
            
            // Track last action to prevent duplicate triggers in same scroll event
            let lastActionTime = 0;
            let lastActionDirection = 0;
            const actionCooldown = 50; // Very short cooldown just to prevent duplicate triggers
            
            window.addEventListener('scroll', () => {
                // Hero section removed - no animations needed
                return;
                
                const currentScrollY = window.scrollY;
                const scrollDelta = currentScrollY - lastScrollY;
                const currentTime = Date.now();
                
                if (!heroSection) {
                    lastScrollY = currentScrollY;
                    return;
                }
                
                const heroSectionTop = heroSection.offsetTop;
                const heroSectionHeight = heroSection.offsetHeight;
                const heroSectionBottom = heroSectionTop + heroSectionHeight;
                const viewportHeight = window.innerHeight;
                const viewportWidth = window.innerWidth;
                
                // More sensitive on smaller screens
                const isSmallScreen = viewportWidth <= 768;
                const minScrollDelta = isSmallScreen ? 0.1 : 0.5; // Much more sensitive on small screens
                const minVisibilityPercent = isSmallScreen ? 0.1 : 1; // Trigger even with minimal visibility on small screens
                const screenCooldown = isSmallScreen ? 30 : 50; // Faster response on small screens
                
                if (Math.abs(scrollDelta) < minScrollDelta) {
                    lastScrollY = currentScrollY;
                    return; // Ignore tiny movements
                }
                
                // Calculate how much of section 1 is visible
                const sectionTopFromViewport = heroSectionTop - currentScrollY;
                const sectionBottomFromViewport = heroSectionBottom - currentScrollY;
                const visibleTop = Math.max(0, sectionTopFromViewport);
                const visibleBottom = Math.min(viewportHeight, sectionBottomFromViewport);
                const visibleHeight = Math.max(0, visibleBottom - visibleTop);
                const visibilityPercent = (visibleHeight / heroSectionHeight) * 100;
                
                // Check if section is in viewport (any part visible)
                const isSectionVisible = sectionBottomFromViewport > 0 && sectionTopFromViewport < viewportHeight;
                
                // Determine scroll direction
                const scrollDirection = scrollDelta > 0 ? 1 : -1;
                
                // Only prevent if same direction and very recent (within cooldown)
                const canTrigger = (currentTime - lastActionTime > screenCooldown) || (scrollDirection !== lastActionDirection);
                
                // Scrolling DOWN - equip items sequentially: clothes â†’ earrings â†’ mask â†’ holdingBook â†’ aura
                // More sensitive on small screens
                if (scrollDelta > 0 && isSectionVisible && visibilityPercent > minVisibilityPercent && canTrigger) {
                    lastActionTime = currentTime;
                    lastActionDirection = 1;
                    
                    if (!equippedItems.clothes && clothesAnimation) {
                        // Equip clothes
                        equippedItems.clothes = true;
                        clothesAnimation.animateIn('0.6s');
                    } else if (!equippedItems.earrings && earringsAnimation) {
                        // Equip earrings
                        equippedItems.earrings = true;
                        earringsAnimation.animateIn('0.6s');
                    } else if (!equippedItems.mask && maskAnimation) {
                        // Equip mask
                        equippedItems.mask = true;
                        maskAnimation.animateIn('0.4s');
                    } else if (!equippedItems.holdingBook && holdingBookAnimation) {
                        // Equip holding book (slides up from bottom)
                        equippedItems.holdingBook = true;
                        holdingBookAnimation.animateIn('0.8s');
                    } else if (!equippedItems.aura && auraAnimation) {
                        // Equip aura (left to right animation)
                        equippedItems.aura = true;
                        auraAnimation.animateIn('1s');
                    }
                }
                
                // Scrolling UP - unequip items in reverse: aura â†’ holdingBook â†’ mask â†’ earrings â†’ clothes
                // More sensitive on small screens
                if (scrollDelta < 0 && isSectionVisible && visibilityPercent > minVisibilityPercent && canTrigger) {
                    lastActionTime = currentTime;
                    lastActionDirection = -1;
                    
                    if (equippedItems.aura && auraAnimation) {
                        // Unequip aura
                        equippedItems.aura = false;
                        auraAnimation.animateOut();
                    } else if (equippedItems.holdingBook && holdingBookAnimation) {
                        // Unequip holding book
                        equippedItems.holdingBook = false;
                        holdingBookAnimation.animateOut();
                    } else if (equippedItems.mask && maskAnimation) {
                        // Unequip mask
                        equippedItems.mask = false;
                        maskAnimation.animateOut();
                    } else if (equippedItems.earrings && earringsAnimation) {
                        // Unequip earrings
                        equippedItems.earrings = false;
                        earringsAnimation.animateOut();
                    } else if (equippedItems.clothes && clothesAnimation) {
                        // Unequip clothes
                        equippedItems.clothes = false;
                        clothesAnimation.animateOut();
                    }
                }
                
                // Reset all items when section is completely out of view
                if (!isSectionVisible) {
                    if (equippedItems.aura && auraAnimation) {
                        equippedItems.aura = false;
                        auraAnimation.animateOut();
                    }
                    if (equippedItems.holdingBook && holdingBookAnimation) {
                        equippedItems.holdingBook = false;
                        holdingBookAnimation.animateOut();
                    }
                    if (equippedItems.mask && maskAnimation) {
                        equippedItems.mask = false;
                        maskAnimation.animateOut();
                    }
                    if (equippedItems.earrings && earringsAnimation) {
                        equippedItems.earrings = false;
                        earringsAnimation.animateOut();
                    }
                    if (equippedItems.clothes && clothesAnimation) {
                        equippedItems.clothes = false;
                        clothesAnimation.animateOut();
                    }
                    lastActionDirection = 0; // Reset direction when out of view
                }
                
                lastScrollY = currentScrollY;
            }, { passive: true });
            
            // Interactive Book functionality
            class InteractiveBook {
                constructor() {
                    this.pages = [];
                    this.currentPage = 0;
                    this.leftPageContent = document.getElementById('leftPageContent');
                    this.rightPageContent = document.getElementById('rightPageContent');
                    this.leftPageNumber = document.getElementById('leftPageNumber');
                    this.rightPageNumber = document.getElementById('rightPageNumber');
                    this.previewLeftPageContent = document.getElementById('previewLeftPageContent');
                    this.previewRightPageContent = document.getElementById('previewRightPageContent');
                    this.previewLeftPage = document.getElementById('previewLeftPage');
                    this.previewRightPage = document.getElementById('previewRightPage');
                    this.pageIndicator = document.getElementById('pageIndicator');
                    this.leftPage = document.getElementById('leftPage');
                    this.rightPage = document.getElementById('rightPage');
                    
                    // Modal elements
                    this.artModal = document.getElementById('artModal');
                    this.artModalOverlay = document.getElementById('artModalOverlay');
                    this.artModalClose = document.getElementById('artModalClose');
                    this.artModalArtistInfo = document.getElementById('artModalArtistInfo');
                    this.artModalImageContainer = document.getElementById('artModalImageContainer');
                    
                    this.init();
                }

                init() {
                    // Initializing InteractiveBook
                    
                    // Check if elements exist
                    if (!this.leftPageContent || !this.rightPageContent) {
                        // Page content elements not found
                        return;
                    }
                    
                    // Create pages from art collection
                    this.createPages();
                    // Pages created
                    
                    // Render initial page
                    this.renderPage();
                    
                    // Set up navigation
                    this.setupNavigation();
                    
                    // Set up modal
                    this.setupModal();
                }

                createPages() {
                    // Create pages from art collection
                    this.pages = artCollection.map((art, index) => ({
                        id: index,
                        leftPage: {
                            content: {
                                title: art.artist || 'Artist Name',
                                subtitle: art.category || '',
                                description: art.description || '',
                                links: art.xUrl ? [{
                                    text: 'Visit X Profile',
                                    url: art.xUrl,
                                    icon: 'x'
                                }] : [],
                                customData: art
                            }
                        },
                        rightPage: {
                            content: {
                                image: art.image,
                                title: art.title || '',
                                customData: art
                            }
                        }
                    }));
                    this.filteredPages = [...this.pages];
                }
                
                updateFilteredPages(filteredCollection) {
                    // Create pages from filtered collection
                    this.filteredPages = filteredCollection.map((art, index) => {
                        const originalIndex = artCollection.findIndex(item => item.id === art.id);
                        return {
                            id: originalIndex >= 0 ? originalIndex : index,
                            leftPage: {
                                content: {
                                    title: art.artist || 'Artist Name',
                                    subtitle: art.category || '',
                                    description: art.description || '',
                                    links: art.xUrl ? [{
                                        text: 'Visit X Profile',
                                        url: art.xUrl,
                                        icon: 'x'
                                    }] : [],
                                    customData: art
                                }
                            },
                            rightPage: {
                                content: {
                                    image: art.image,
                                    title: art.title || '',
                                    customData: art
                                }
                            }
                        };
                    });
                    
                    // Reset to first page if current page is out of bounds
                    if (this.currentPage >= this.filteredPages.length) {
                        this.currentPage = 0;
                    }
                    
                    this.renderPage();
                }

                renderPage() {
                    if (this.filteredPages.length === 0) {
                        // Show empty state
                        if (this.leftPageContent) {
                            this.leftPageContent.innerHTML = `
                                <div class="book-artist-info" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; text-align: center;">
                                    <div class="empty-state-logo-container" style="margin-bottom: 20px; width: 100px; height: 100px;">
                                        <img src="assets/main_logo.png" alt="Logo" class="empty-state-logo open-eye" style="width: 100px; height: 100px; filter: brightness(0.3) drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));">
                                        <img src="assets/main_logo_closed.png" alt="Logo Closed" class="empty-state-logo closed-eye" style="width: 100px; height: 100px; filter: brightness(0.3) drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));">
                            </div>
                                    <h3 style="color: #666; font-size: clamp(1.2rem, 2.5vw, 1.8rem); margin-bottom: 10px; font-weight: 600;">No Results Found</h3>
                                    <p style="color: #888; font-size: clamp(0.9rem, 1.8vw, 1.1rem);">Try adjusting your search or filter criteria</p>
                        </div>
                    `;
                        }
                        if (this.rightPageContent) {
                            this.rightPageContent.innerHTML = `
                                <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
                                    <div class="empty-state-logo-container" style="text-align: center; width: 120px; height: 120px;">
                                        <img src="assets/main_logo.png" alt="Logo" class="empty-state-logo open-eye" style="width: 120px; height: 120px; filter: brightness(0.3) drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));">
                                        <img src="assets/main_logo_closed.png" alt="Logo Closed" class="empty-state-logo closed-eye" style="width: 120px; height: 120px; filter: brightness(0.3) drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));">
                                    </div>
                        </div>
                    `;
                        }
                        if (this.pageIndicator) {
                            this.pageIndicator.textContent = '0 / 0';
                        }
                        return;
                    }
                    
                    const currentPageData = this.filteredPages[this.currentPage];
                    
                    // Center single result in book view
                    if (this.filteredPages.length === 1) {
                        if (this.bookContainer) {
                            this.bookContainer.style.margin = '0 auto';
                        }
                    } else {
                        if (this.bookContainer) {
                            this.bookContainer.style.margin = '';
                        }
                    }
                    
                    // Render left page content
                    this.leftPageContent.innerHTML = this.renderLeftPageContent(currentPageData.leftPage.content);
                    
                    // Render right page content
                    this.rightPageContent.innerHTML = this.renderRightPageContent(currentPageData.rightPage.content);
                    
                    // Set up image click handlers after rendering
                    this.setupImageClickHandlers();
                    
                    // Update preview pages with next/previous content
                    this.updatePreviewPages();
                    
                    // Update page indicator (shows total available content)
                    this.pageIndicator.textContent = `${this.currentPage + 1} / ${this.filteredPages.length}`;
                    
                    // Update page numbers - only show on right page
                    if (this.leftPageNumber) {
                        this.leftPageNumber.textContent = ''; // No page numbers on left page
                    }
                    if (this.rightPageNumber) {
                        this.rightPageNumber.textContent = this.currentPage + 1;
                    }
                    
                    // Update page classes for hover effects
                    if (this.leftPage) {
                        this.leftPage.classList.toggle('first-page', this.currentPage === 0);
                    }
                    if (this.rightPage) {
                        this.rightPage.classList.toggle('last-page', this.currentPage === this.filteredPages.length - 1);
                    }
                }
                
                setupImageClickHandlers() {
                    // Find all images in the right page and add click handlers
                    if (this.rightPageContent) {
                        const images = this.rightPageContent.querySelectorAll('.book-art-image');
                        images.forEach(img => {
                            // Remove existing listeners by cloning
                            const newImg = img.cloneNode(true);
                            img.parentNode.replaceChild(newImg, img);
                            
                            // Add click handler
                            newImg.addEventListener('click', (e) => {
                                e.preventDefault();
                                e.stopPropagation();
                                playPaperFlipSound(); // Play sound when opening modal
                                // Image clicked directly
                                this.openModal(this.currentPage);
                            });
                        });
                    }
                }
                
                updatePreviewPages() {
                    // Preview right page (next page content)
                    if (this.currentPage < this.filteredPages.length - 1) {
                        const nextPageData = this.filteredPages[this.currentPage + 1];
                        if (this.previewRightPageContent) {
                            this.previewRightPageContent.innerHTML = this.renderRightPageContent(nextPageData.rightPage.content);
                        }
                        if (this.previewRightPage) {
                            this.previewRightPage.style.display = 'block';
                        }
                    } else {
                        if (this.previewRightPage) {
                            this.previewRightPage.style.display = 'none';
                        }
                    }
                    
                    // Preview left page (previous page content)
                    if (this.currentPage > 0) {
                        const prevPageData = this.filteredPages[this.currentPage - 1];
                        if (this.previewLeftPageContent) {
                            this.previewLeftPageContent.innerHTML = this.renderLeftPageContent(prevPageData.leftPage.content);
                        }
                        if (this.previewLeftPage) {
                            this.previewLeftPage.style.display = 'block';
                        }
                    } else {
                        if (this.previewLeftPage) {
                            this.previewLeftPage.style.display = 'none';
                        }
                    }
                }
                
                renderLeftPageContent(content) {
                    let html = '<div class="book-artist-info">';
                    
                    // Artist name row with X logo
                    if (content.title) {
                        html += '<div class="book-artist-name-row">';
                        html += `<h2 class="book-artist-name">${content.title}</h2>`;
                        
                        // Add X logo if link exists
                        if (content.links && content.links.length > 0) {
                            const xLink = content.links.find(link => link.icon === 'x');
                            if (xLink) {
                                html += `
                                    <a href="${xLink.url}" target="_blank" rel="noopener noreferrer" class="book-artist-x-link" aria-label="Visit X Profile">
                                        <svg viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                                        </svg>
                                    </a>
                                `;
                            }
                        }
                        
                        html += '</div>';
                    }
                    
                    if (content.subtitle) {
                        html += `<div class="book-art-category">${content.subtitle}</div>`;
                    }
                    
                    if (content.description) {
                        html += `<p class="book-art-description">${content.description}</p>`;
                    }
                    
                    html += '</div>';
                    return html;
                }
                
                renderRightPageContent(content) {
                    let html = '<div style="width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center;">';
                    
                    if (content.image) {
                        html += `<img src="${content.image}" alt="${content.title || ''}" class="book-art-image" data-art-index="${this.currentPage}">`;
                    }
                    
                    if (content.title) {
                        html += `<h3 class="book-artist-name" style="margin-top: 20px; text-align: center;">${content.title}</h3>`;
                    }
                    
                    html += '</div>';
                    return html;
                }
                
                setupNavigation() {
                    // Click on right page to go forward
                    if (this.rightPage) {
                        this.rightPage.addEventListener('mouseenter', () => {
                            if (this.currentPage < this.filteredPages.length - 1 && this.previewRightPage) {
                                this.previewRightPage.classList.add('show-preview');
                }
                        });
                        
                        this.rightPage.addEventListener('mouseleave', () => {
                            if (this.previewRightPage) {
                                this.previewRightPage.classList.remove('show-preview');
                            }
                        });
                        
                        this.rightPage.addEventListener('click', (e) => {
                            // Don't trigger if clicking on links
                            if (e.target.tagName === 'A' || e.target.closest('a')) {
                                return;
                            }
                            
                            // If clicking on image or its container, open modal instead of flipping
                            const clickedImage = e.target.closest('.book-art-image') || (e.target.classList.contains('book-art-image') ? e.target : null);
                            if (clickedImage) {
                                e.preventDefault();
                                e.stopPropagation();
                                playPaperFlipSound(); // Play sound when opening modal
                                // Image clicked
                                this.openModal(this.currentPage);
                                return;
                            }
                            
                            // Navigate forward if not on last page
                            if (this.currentPage < this.filteredPages.length - 1) {
                                // Play sound only when page can be flipped (not on last page)
                                playPaperFlipSound();
                                e.preventDefault();
                                e.stopPropagation();
                                if (this.previewRightPage) {
                                    this.previewRightPage.classList.add('show-preview');
                                }
                                this.animatePageFlip('forward', () => {
                                    this.currentPage++;
                                    this.renderPage();
                                    if (this.previewRightPage) {
                                        this.previewRightPage.classList.remove('show-preview');
                }
                                });
                            }
                        });
                    }
                    
                    // Click on left page to go backward
                    if (this.leftPage) {
                        this.leftPage.addEventListener('mouseenter', () => {
                            if (this.currentPage > 0 && this.previewLeftPage) {
                                this.previewLeftPage.classList.add('show-preview');
                            }
                        });
                        
                        this.leftPage.addEventListener('mouseleave', () => {
                            if (this.previewLeftPage) {
                                this.previewLeftPage.classList.remove('show-preview');
                            }
                        });
                        
                        this.leftPage.addEventListener('click', (e) => {
                            // Don't trigger if clicking on links (but allow images to trigger flip)
                            if (e.target.tagName === 'A' || e.target.closest('a')) {
                                return;
                            }
                            
                            // Navigate backward if not on first page
                            if (this.currentPage > 0) {
                                // Play sound only when page can be flipped (not on first page)
                                playPaperFlipSound();
                                e.preventDefault();
                                e.stopPropagation();
                                if (this.previewLeftPage) {
                                    this.previewLeftPage.classList.add('show-preview');
                                }
                                this.animatePageFlip('backward', () => {
                                    this.currentPage--;
                                    this.renderPage();
                                    if (this.previewLeftPage) {
                                        this.previewLeftPage.classList.remove('show-preview');
                }
            });
                            }
                        });
                    }
                }
                
                animatePageFlip(direction, callback) {
                    // Remove any existing animation classes
                    this.leftPage.classList.remove('flipping-forward', 'flipping-backward');
                    this.rightPage.classList.remove('flipping-forward', 'flipping-backward');
                    
                    // Add animation class based on direction
                    if (direction === 'forward') {
                        this.rightPage.classList.add('flipping-forward');
                        if (this.previewRightPage) {
                            this.previewRightPage.classList.add('show-preview');
                        }
                    } else {
                        this.leftPage.classList.add('flipping-backward');
                        if (this.previewLeftPage) {
                            this.previewLeftPage.classList.add('show-preview');
                        }
                    }
                    
                    // Wait for animation to complete
                    setTimeout(() => {
                        this.leftPage.classList.remove('flipping-forward', 'flipping-backward');
                        this.rightPage.classList.remove('flipping-forward', 'flipping-backward');
                        if (this.previewRightPage) {
                            this.previewRightPage.classList.remove('show-preview');
                        }
                        if (this.previewLeftPage) {
                            this.previewLeftPage.classList.remove('show-preview');
                    }
                        if (callback) callback();
                    }, 800); // Match animation duration
                }
                
                setupModal() {
                    // Close modal when clicking overlay (outside the image)
                    if (this.artModalOverlay) {
                        this.artModalOverlay.addEventListener('click', (e) => {
                            // Only close if clicking directly on overlay, not on modal content
                            if (e.target === this.artModalOverlay) {
                                this.closeModal();
                            }
                        });
                    }
                    
                    // Close modal when clicking close button
                    if (this.artModalClose) {
                        this.artModalClose.addEventListener('click', () => {
                            this.closeModal();
                        });
                    }
                    
                    // Close modal on Escape key
            document.addEventListener('keydown', (e) => {
                        if (e.key === 'Escape' && this.artModal && this.artModal.classList.contains('active')) {
                            this.closeModal();
                        }
                    });
                }
                
                openModal(pageIndex) {
                    if (!this.artModal) {
                        return;
                    }
                    
                    if (pageIndex < 0 || pageIndex >= this.filteredPages.length) {
                        return;
                    }
                    
                    const pageData = this.filteredPages[pageIndex];
                    const leftContent = pageData.leftPage.content;
                    const rightContent = pageData.rightPage.content;
                    
                    // Render artist info on left side
                    if (this.artModalArtistInfo) {
                        this.artModalArtistInfo.innerHTML = this.renderLeftPageContent(leftContent);
                    } else {
                        // artModalArtistInfo not found
                    }
                    
                    // Render full image on right side with portrait detection
                    if (this.artModalImageContainer && rightContent.image) {
                        const img = document.createElement('img');
                        img.src = rightContent.image;
                        img.alt = rightContent.title || '';
                        img.className = 'art-modal-full-image';
                        
                        // Get the art item to check id
                        const artItem = artCollection.find(art => art.image === rightContent.image);
                        
                        // Load image and check if it's portrait, then apply constraints
                        img.onload = function() {
                            const isPortrait = img.naturalHeight > img.naturalWidth;
                            
                            // Special handling for id 4 (Happy's image) - make it smaller
                            if (artItem && artItem.id === 4) {
                                // Reduce size by 30% while maintaining aspect ratio
                                if (isPortrait) {
                                    img.style.maxHeight = '50vh'; // Reduced from 70vh
                                    img.style.maxWidth = '70%'; // Reduced from 90%
                                } else {
                                    img.style.maxHeight = '60vh'; // Reduced from 80vh
                                    img.style.maxWidth = '75%'; // Reduced from 100%
                                }
                            } else {
                                // Normal constraints for other images
                                if (isPortrait) {
                                    // For portrait images, limit height more strictly
                                    img.style.maxHeight = '70vh';
                                    img.style.maxWidth = '90%';
                                } else {
                                    // For landscape images, use normal constraints
                                    img.style.maxHeight = '80vh';
                                    img.style.maxWidth = '100%';
                                }
                            }
                        };
                        
                        this.artModalImageContainer.innerHTML = '';
                        this.artModalImageContainer.appendChild(img);
                    } else {
                        // artModalImageContainer not found or no image
                    }
                    
                    // Show modal
                    this.artModal.classList.add('active');
                    document.body.style.overflow = 'hidden'; // Prevent background scrolling
                    // Modal should be visible now
                    
                    // Add long press scrolling functionality for art modal
                    this.setupArtModalLongPressScrolling();
                }
                
                setupArtModalLongPressScrolling() {
                    const artModalLeft = document.querySelector('.art-modal-left');
                    if (!artModalLeft) return;
                    
                    let longPressTimer = null;
                    let isLongPressing = false;
                    let scrollDirection = 0;
                    let scrollInterval = null;
                    let indicator = null;
                    let startY = 0;
                    
                    const createIndicator = () => {
                        if (indicator) return indicator;
                        indicator = document.createElement('div');
                        indicator.className = 'long-press-indicator';
                        artModalLeft.appendChild(indicator);
                        return indicator;
                    };
                    
                    const startLongPress = (e) => {
                        if (longPressTimer) return;
                        
                        const clientY = e.clientY || (e.touches && e.touches[0] ? e.touches[0].clientY : 0);
                        startY = clientY;
                        
                        const rect = artModalLeft.getBoundingClientRect();
                        const centerY = rect.top + rect.height / 2;
                        
                        scrollDirection = clientY < centerY ? -1 : 1;
                        
                        longPressTimer = setTimeout(() => {
                            isLongPressing = true;
                            const ind = createIndicator();
                            ind.style.left = (rect.left + rect.width / 2 - 30) + 'px';
                            ind.style.top = (rect.top + rect.height / 2 - 30) + 'px';
                            ind.classList.add('active');
                            
                            scrollInterval = setInterval(() => {
                                const scrollAmount = scrollDirection * 30;
                                artModalLeft.scrollBy({
                                    top: scrollAmount,
                                    behavior: 'auto'
                                });
                            }, 50);
                        }, 500);
                    };
                    
                    const stopLongPress = () => {
                        if (longPressTimer) {
                            clearTimeout(longPressTimer);
                            longPressTimer = null;
                        }
                        if (scrollInterval) {
                            clearInterval(scrollInterval);
                            scrollInterval = null;
                        }
                        if (isLongPressing) {
                            isLongPressing = false;
                            if (indicator) {
                                indicator.classList.remove('active');
                            }
                        }
                    };
                    
                    // Remove old listeners if any (cleanup)
                    const newArtModalLeft = document.querySelector('.art-modal-left');
                    if (newArtModalLeft && newArtModalLeft !== artModalLeft) {
                        // If element changed, use new one
                        return;
                    }
                    
                    // Mouse events
                    artModalLeft.addEventListener('mousedown', (e) => {
                        if (e.button === 0) {
                            startLongPress(e);
                        }
                    });
                    
                    artModalLeft.addEventListener('mouseup', stopLongPress);
                    artModalLeft.addEventListener('mouseleave', stopLongPress);
                    
                    // Touch events
                    artModalLeft.addEventListener('touchstart', (e) => {
                        startLongPress(e);
                    }, { passive: true });
                    
                    artModalLeft.addEventListener('touchend', stopLongPress);
                    artModalLeft.addEventListener('touchcancel', stopLongPress);
                    artModalLeft.addEventListener('touchmove', (e) => {
                        if (longPressTimer && e.touches && e.touches[0]) {
                            const currentY = e.touches[0].clientY;
                            if (Math.abs(currentY - startY) > 10) {
                                stopLongPress();
                            }
                        }
                    }, { passive: true });
                }
                
                closeModal() {
                    if (this.artModal) {
                        this.artModal.classList.remove('active');
                        document.body.style.overflow = ''; // Restore scrolling
                    }
                }
            }
            
            // Initialize book
            const interactiveBook = new InteractiveBook();
            
            // Gallery View Manager
            class GalleryView {
                constructor(artCollection) {
                    this.artCollection = artCollection;
                    this.filteredCollection = [...artCollection];
                    this.currentPage = 1;
                    this.itemsPerPage = 10;
                    this.selectedCategory = 'all';
                    this.searchQuery = '';
                    this.galleryWrapper = document.getElementById('galleryWrapper');
                    this.galleryContainer = document.getElementById('galleryContainer');
                    this.galleryPagination = document.getElementById('galleryPagination');
                    this.viewToggleBtn = document.getElementById('viewToggleBtn');
                    this.bookWrapper = document.getElementById('bookWrapper');
                    this.isGalleryView = false;
                    this.searchInput = document.getElementById('searchInput');
                    this.categoryFilterContainer = document.querySelector('.category-filter-container');
                    
                    this.init();
                }
                
                init() {
                    const toggleBtn = document.getElementById('viewToggleBtn');
                    
                    if (toggleBtn) {
                        toggleBtn.addEventListener('click', () => {
                            this.toggleView();
                        });
                    }
                    
                    // Initialize filters
                    this.setupFilters();
                    this.setupSearch();
                }
                
                setupFilters() {
                    // Get unique categories
                    const categories = [...new Set(this.artCollection.map(art => art.category).filter(Boolean))];
                    
                    // Create category filter buttons
                    categories.forEach(category => {
                        const btn = document.createElement('button');
                        btn.className = 'category-filter-btn';
                        btn.textContent = category;
                        btn.dataset.category = category;
                        btn.addEventListener('click', () => {
                            this.filterByCategory(category);
                        });
                        this.categoryFilterContainer.appendChild(btn);
                    });
                    
                    // Add event listener to "All" button
                    const allBtn = document.getElementById('filterAll');
                    if (allBtn) {
                        allBtn.addEventListener('click', () => {
                            this.filterByCategory('all');
                        });
                    }
                }
                
                setupSearch() {
                    if (this.searchInput) {
                        this.searchInput.addEventListener('input', (e) => {
                            this.searchQuery = e.target.value.toLowerCase().trim();
                            this.applyFilters();
                        });
                    }
                }
                
                filterByCategory(category) {
                    this.selectedCategory = category;
                    
                    // Update active state
                    document.querySelectorAll('.category-filter-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    const activeBtn = category === 'all' 
                        ? document.getElementById('filterAll')
                        : document.querySelector(`[data-category="${category}"]`);
                    
                    if (activeBtn) {
                        activeBtn.classList.add('active');
                    }
                    
                    this.applyFilters();
                }
                
                applyFilters() {
                    // Filter by category
                    let filtered = this.artCollection;
                    
                    if (this.selectedCategory !== 'all') {
                        filtered = filtered.filter(art => art.category === this.selectedCategory);
                    }
                    
                    // Filter by search query
                    if (this.searchQuery) {
                        filtered = filtered.filter(art => {
                            const searchText = `${art.artist || ''} ${art.title || ''} ${art.description || ''} ${art.category || ''}`.toLowerCase();
                            return searchText.includes(this.searchQuery);
                        });
                    }
                    
                    this.filteredCollection = filtered;
                    this.currentPage = 1; // Reset to first page
                    
                    // Always update both views to maintain filter state
                    if (this.isGalleryView) {
                        // If in gallery view, render gallery with filtered results
                        this.renderGallery();
                    }
                    // Always update book view filters so it's ready when switching back
                    interactiveBook.updateFilteredPages(this.filteredCollection);
                }
                
                toggleView() {
                    this.isGalleryView = !this.isGalleryView;
                    
                    const toggleBtn = document.getElementById('viewToggleBtn');
                    
                    if (this.isGalleryView) {
                        // Switch to gallery view
                        if (this.bookWrapper) {
                            this.bookWrapper.style.display = 'none';
                        }
                        if (this.galleryWrapper) {
                            this.galleryWrapper.style.display = 'block';
                        }
                        if (toggleBtn) {
                            toggleBtn.classList.add('gallery-active');
                        }
                        // Render gallery with current filters
                        this.renderGallery();
                    } else {
                        // Switch to book view
                        if (this.galleryWrapper) {
                            this.galleryWrapper.style.display = 'none';
                        }
                        if (this.bookWrapper) {
                            this.bookWrapper.style.display = 'flex';
                            // Remove any inline styles that might break centering - let CSS handle it
                            this.bookWrapper.style.margin = '';
                            this.bookWrapper.style.width = '';
                            this.bookWrapper.style.maxWidth = '';
                        }
                        if (toggleBtn) {
                            toggleBtn.classList.remove('gallery-active');
                        }
                        // Update book view with current filters
                        interactiveBook.updateFilteredPages(this.filteredCollection);
                    }
                }
                
                scrollToGallery() {
                    // Find the gallery section or wrapper to scroll to
                    const gallerySection = document.getElementById('dressingSection');
                    const galleryWrapper = document.getElementById('galleryWrapper');
                    const targetElement = galleryWrapper || gallerySection;
                    
                    if (targetElement) {
                        // Scroll to gallery section with offset for better visibility
                        const offset = 100; // Offset from top
                        const elementPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                        const offsetPosition = elementPosition - offset;
                        
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    } else {
                        // Fallback: scroll to top if element not found
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                }
                
                renderGallery() {
                    if (!this.galleryContainer) return;
                    
                    // Clear container
                    this.galleryContainer.innerHTML = '';
                    
                    // Show empty state if no results
                    if (this.filteredCollection.length === 0) {
                        const emptyState = document.createElement('div');
                        emptyState.className = 'gallery-empty-state';
                        emptyState.innerHTML = `
                            <div class="empty-state-content">
                                <div class="empty-state-logo-container">
                                    <img src="assets/main_logo.png" alt="Logo" class="empty-state-logo open-eye">
                                    <img src="assets/main_logo_closed.png" alt="Logo Closed" class="empty-state-logo closed-eye">
                                </div>
                                <h3 class="empty-state-title">No Results Found</h3>
                                <p class="empty-state-message">Try adjusting your search or filter criteria</p>
                            </div>
                        `;
                        this.galleryContainer.appendChild(emptyState);
                        // Clear pagination
                        if (this.galleryPagination) {
                            this.galleryPagination.innerHTML = '';
                        }
                        return;
                    }
                    
                    const totalPages = Math.ceil(this.filteredCollection.length / this.itemsPerPage);
                    const startIndex = (this.currentPage - 1) * this.itemsPerPage;
                    const endIndex = startIndex + this.itemsPerPage;
                    const currentItems = this.filteredCollection.slice(startIndex, endIndex);
                    
                    // Render cards
                    currentItems.forEach((art, index) => {
                        const card = this.createGalleryCard(art, startIndex + index);
                        this.galleryContainer.appendChild(card);
                    });
                    
                    // Center single result (only if total filtered results is 1)
                    if (this.filteredCollection.length === 1 && currentItems.length === 1) {
                        const singleCard = this.galleryContainer.querySelector('.gallery-card');
                        if (singleCard) {
                            singleCard.style.maxWidth = '400px';
                            singleCard.style.margin = '0 auto';
                            this.galleryContainer.style.justifyItems = 'center';
                        }
                    } else {
                        // Reset centering for multiple results
                        this.galleryContainer.style.justifyItems = '';
                        const cards = this.galleryContainer.querySelectorAll('.gallery-card');
                        cards.forEach(card => {
                            card.style.maxWidth = '';
                            card.style.margin = '';
                        });
                    }
                    
                    // Render pagination
                    this.renderPagination(totalPages);
                }
                
                createGalleryCard(art, filteredIndex) {
                    const card = document.createElement('div');
                    card.className = 'gallery-card';
                    card.addEventListener('click', () => {
                        // Find the index in the filtered pages for the modal
                        const filteredPageIndex = interactiveBook.filteredPages.findIndex(page => 
                            page.rightPage.content.image === art.image
                        );
                        if (filteredPageIndex >= 0) {
                            interactiveBook.openModal(filteredPageIndex);
                        }
                    });
                    
                    const image = art.image ? `<img src="${art.image}" alt="${art.title || ''}" class="gallery-card-image">` : '';
                    const title = art.title || 'Untitled';
                    const category = art.category || '';
                    const description = art.description || '';
                    const artist = art.artist || 'Unknown Artist';
                    const xUrl = art.xUrl || '';
                    
                    const xLinkHtml = xUrl ? `
                        <a href="${xUrl}" target="_blank" rel="noopener noreferrer" class="gallery-card-x-link" aria-label="Visit X Profile" onclick="event.stopPropagation();">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                    ` : '';
                    
                    card.innerHTML = `
                        ${image}
                        <div class="gallery-card-content">
                            <h3 class="gallery-card-title">${title}</h3>
                            ${category ? `<p class="gallery-card-category">${category}</p>` : ''}
                            ${description ? `<p class="gallery-card-description">${description}</p>` : ''}
                            <div class="gallery-card-footer">
                                <span class="gallery-card-artist">${artist}</span>
                                ${xLinkHtml}
                            </div>
                        </div>
                    `;
                    
                    return card;
                }
                
                renderPagination(totalPages) {
                    if (!this.galleryPagination || totalPages <= 1) {
                        if (this.galleryPagination) {
                            this.galleryPagination.innerHTML = '';
                        }
                        return;
                    }
                    
                    this.galleryPagination.innerHTML = '';
                    
                    // Previous button
                    const prevBtn = document.createElement('button');
                    prevBtn.className = 'pagination-btn';
                    prevBtn.textContent = 'Previous';
                    prevBtn.disabled = this.currentPage === 1;
                    prevBtn.addEventListener('click', () => {
                        if (this.currentPage > 1) {
                            this.currentPage--;
                            this.renderGallery();
                            // Scroll to gallery section instead of top
                            this.scrollToGallery();
                        }
                    });
                    this.galleryPagination.appendChild(prevBtn);
                    
                    // Page numbers
                    const maxVisiblePages = 5;
                    let startPage = Math.max(1, this.currentPage - Math.floor(maxVisiblePages / 2));
                    let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
                    
                    if (endPage - startPage < maxVisiblePages - 1) {
                        startPage = Math.max(1, endPage - maxVisiblePages + 1);
                    }
                    
                    if (startPage > 1) {
                        const firstBtn = document.createElement('button');
                        firstBtn.className = 'pagination-btn';
                        firstBtn.textContent = '1';
                        firstBtn.addEventListener('click', () => {
                            this.currentPage = 1;
                            this.renderGallery();
                            // Scroll to gallery section instead of top
                            this.scrollToGallery();
                        });
                        this.galleryPagination.appendChild(firstBtn);
                        
                        if (startPage > 2) {
                            const ellipsis = document.createElement('span');
                            ellipsis.className = 'pagination-info';
                            ellipsis.textContent = '...';
                            this.galleryPagination.appendChild(ellipsis);
                        }
                    }
                    
                    for (let i = startPage; i <= endPage; i++) {
                        const pageBtn = document.createElement('button');
                        pageBtn.className = 'pagination-btn';
                        if (i === this.currentPage) {
                            pageBtn.classList.add('active');
                        }
                        pageBtn.textContent = i;
                        pageBtn.addEventListener('click', () => {
                            this.currentPage = i;
                            this.renderGallery();
                            // Scroll to gallery section instead of top
                            this.scrollToGallery();
                        });
                        this.galleryPagination.appendChild(pageBtn);
                    }
                    
                    if (endPage < totalPages) {
                        if (endPage < totalPages - 1) {
                            const ellipsis = document.createElement('span');
                            ellipsis.className = 'pagination-info';
                            ellipsis.textContent = '...';
                            this.galleryPagination.appendChild(ellipsis);
                        }
                        
                        const lastBtn = document.createElement('button');
                        lastBtn.className = 'pagination-btn';
                        lastBtn.textContent = totalPages;
                        lastBtn.addEventListener('click', () => {
                            this.currentPage = totalPages;
                            this.renderGallery();
                            // Scroll to gallery section instead of top
                            this.scrollToGallery();
                        });
                        this.galleryPagination.appendChild(lastBtn);
                    }
                    
                    // Next button
                    const nextBtn = document.createElement('button');
                    nextBtn.className = 'pagination-btn';
                    nextBtn.textContent = 'Next';
                    nextBtn.disabled = this.currentPage === totalPages;
                    nextBtn.addEventListener('click', () => {
                        if (this.currentPage < totalPages) {
                            this.currentPage++;
                            this.renderGallery();
                            // Scroll to gallery section instead of top
                            this.scrollToGallery();
                        }
                    });
                    this.galleryPagination.appendChild(nextBtn);
                    
                    // Page info
                    const pageInfo = document.createElement('span');
                    pageInfo.className = 'pagination-info';
                    pageInfo.textContent = `Page ${this.currentPage} of ${totalPages}`;
                    this.galleryPagination.appendChild(pageInfo);
                }
            }
            
            // Initialize gallery view
            const galleryView = new GalleryView(artCollection);
        });
    </script>
</body>
</html>
